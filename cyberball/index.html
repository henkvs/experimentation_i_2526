<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>The Cyberball game in OpenSesame - Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)</title><meta property="og:title" content="The Cyberball game in OpenSesame - Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png"/><meta property="og:image" content="/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png"/><link rel="stylesheet" href="/build/_assets/app-5WKS5EPQ.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 1 - Introduction to OpenSesame" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-1">Chapter 1 - Introduction to OpenSesame</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmp8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmp8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 2 - Experimental Design I" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-2">Chapter 2 - Experimental Design I</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rup8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rup8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 3 - Experimental Design II" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-3">Chapter 3 - Experimental Design II</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 4 - Variables (in OpenSesame)" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-4">Chapter 4 - Variables (in OpenSesame)</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1ep8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1ep8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 5 - Variables (in python)" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-5">Chapter 5 - Variables (in python)</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1mp8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1mp8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 6 - Conditionals" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-6">Chapter 6 - Conditionals</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1up8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1up8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 7 - Functions" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-7">Chapter 7 - Functions</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R26p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R26p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 8 - Loops" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200" href="/intro-8">Chapter 8 - Loops</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2ep8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R2ep8p:" class="pl-3 pr-[2px] collapsible-content"><a title="The Cyberball game in OpenSesame" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/cyberball">The Cyberball game in OpenSesame</a><a title="Optional Study Material - Python lessons: Loops" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/loops-python-lessons">Optional Study Material - Python lessons: Loops</a><a title="Optional Study Material - Python exercises: Loops" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/loops-python-exercises">Optional Study Material - Python exercises: Loops</a></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 9 - Strings and lists" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-9">Chapter 9 - Strings and lists</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2mp8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2mp8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Chapter 10 - Q&amp;A" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/intro-10">Chapter 10 - Q&amp;A</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2up8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2up8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><a title="Solutions" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/solutions">Solutions</a></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/henkvs/experimentation_i_2526" title="GitHub Repository: henkvs/experimentation_i_2526" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">The Cyberball game in OpenSesame</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="sLqaYosK34" class="relative group/block"><blockquote><p><strong>Note:</strong> Part of the text below is adapted from The E-Primer (Spapé, Verdonschot, &amp; van Steenbergen, 2019). Spapé M.M.<em>, Verdonschot, R.G., &amp; van Steenbergen, H.</em> (2019) The E-Primer: An introduction to creating psychological experiments in E-Prime. Second edition updated for E-Prime 3. Leiden: Leiden University Press. <a target="_blank" rel="noreferrer" href="http://www.e-primer.com" class="">www.e-primer.com</a> Copyright 2019 by the authors and LUP. Adapted with permission.</p></blockquote></div><div id="nuAcPWzD2A" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from jupyterquiz import display_quiz</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="232V20Iw7FFEx-kuoj7SI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rhtYsUfjHn" class="relative group/block"><h2 id="introduction" class="relative group"><span class="heading-text">Introduction</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#introduction" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The Cyberball game allows psychologists to investigate the effects of social exclusion (ostracism). Kipling D. Williams came up with this idea after a Frisbee rolled up and hit him in the back when relaxing in a park in 1983:</p><blockquote><p>He turned around, saw two other guys looking at him expectantly, and threw the Frisbee back to them. He was a bit surprised when they threw the disk back to him; he walked toward them to form a triangle, and threw it back again. For about a minute, the three of them threw the Frisbee around in a spirited game of catch. What happened next sparked an idea as to how to study the effects of ostracism. For no apparent reason, the two original players started throwing the Frisbee only to each other, and never threw it to the newcomer again. After sheepishly back-stepping toward his dog, the author was amazed at how bad he felt. He was sad, embarrassed, and a bit angry. He wondered what he had done to warrant being ostracised by the other two players. He sought comfort from his faithful dog. Then, it occurred to him that something like this, adapted for the laboratory, would be an excellent means to study ostracism and social exclusion. (Williams &amp; Jarvis, 2006, p.174).</p></blockquote><p>These are the instructions participants usually receive:</p><blockquote><p>&quot;Welcome to Cyberball, the Interactive Ball-Tossing Game Used for Mental Visualisation!</p><p>In the upcoming experiment, we test the effects of practising mental visualisation on task performance. Thus, we need you to practise your mental visualisation skills. We have found that the best way to do this is to have you play an on-line game of catch with other participants who are logged on at the same time.</p><p>In a few moments, you will be playing a game of catch with other students over our network. The game is very simple. When the ball is tossed to you, simply use the keyboard to indicate the player (with numerical key 1 or 3) you want to throw it to. When the game is over, the experimenter will give you additional instructions.</p><p>What is important is not your ball tossing performance, but that you MENTALLY VISUALISE the entire experience. Imagine what the others look like. What sort of people are they? Where are you playing? Is it warm and sunny, or cold and rainy? Create in your mind a complete mental picture of what might be going on if you were playing this game in real life.</p><p>Okay, ready to begin?&quot;</p></blockquote><p>This is what the game looks like at the start:</p><img id="dbOzhVbMec" style="margin:0 auto" src="/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png" data-canonical-url="images/Cyberball1.png" class=""/></div><div id="WyHyNmFt0k" class="relative group/block"><h3 id="step-1-programming-the-basic-experimental-flow" class="relative group"><span class="heading-text">Step 1: Programming the basic experimental flow</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-programming-the-basic-experimental-flow" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To program the game, you first need some movie clips that show a ball moving between the players. You need six of them depicting all possible directions:</p><p>From player 1 to player 2 <a target="_blank" rel="noreferrer" href="https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/1to2.wmv" class="">1to2.wmv</a>
From player 1 to player 3 <a target="_blank" rel="noreferrer" href="https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/1to3.wmv" class="">1to3.wmv</a>
From player 2 to player 1 <a target="_blank" rel="noreferrer" href="https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/2to1.wmv" class="">2to1.wmv</a>
From player 2 to player 3 <a target="_blank" rel="noreferrer" href="https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/2to3.wmv" class="">2to3.wmv</a>
From player 3 to player 1 <a target="_blank" rel="noreferrer" href="https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/3to1.wmv" class="">3to1.wmv</a>
From player 3 to player 2 <a target="_blank" rel="noreferrer" href="https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/3to2.wmv" class="">3to2.wmv</a></p><p>The six movie files can be downloaded using the links.</p><p>Note that these small Windows Media Files have been converted from the original animated gifs that are freely available on <a target="_blank" rel="noreferrer" href="http://www3.psych.purdue.edu/~willia55/Announce/cyberball.htm" class="">K.D. Williams’ website</a>.</p><p>Now let’s draw the basic flow chart for each trial, which determines which movies should be played when:</p><img id="jMKSpgR9lB" style="margin:0 auto" src="/build/WhoseTurnOS-49e0f8c4a86c0341fbfafcdc625cc849.png" data-canonical-url="images/WhoseTurnOS.png" class=""/><p>This flow chart basically decides who is throwing the ball in this trial (Player 1, Player 2, or Player 3) and, by retrieving the values from a variable (column) from the OpenSesame Loop object (see next step), it will decide the destination of the ball.</p><p>Let’s create the entire experiment from scratch and use the ‘default template’, which is already loaded when OpenSesame is launched. You can simple delete the ‘Get started!’ and copy paste the introduction described above in the <code>welcome</code> sketchpad.</p><p>Also, make sure you download and add all six video files mentioned above to the File pool first. Also, set the back-end of the experiment to <code>legacy</code>.</p><p>At any moment during the experiment we need to have access to the information about which player currently has the ball. So, create a new variable named <code>current_player</code> with the initial value 1, in a new inline_script called <code>init_exp</code> at the beginning of your <code>experiment</code> procedure (the game always starts with Player 1 throwing the ball). As shown here:</p></div><div id="M3Dri3JDZ7" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.current_player = 1</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="XM3i2QSXbO" class="relative group/block"><p>Now you can implement the basic branching structure using conditional via the <a target="_blank" rel="noreferrer" href="https://osdoc.cogsci.nl/3.3/manual/variables/#using-conditional-if-statements" class="">run-if statement of the sequence</a>.</p><p>Depending on the value in current_player, the script may run one single trial in either <code>player1_loop</code>, <code>player2_loop</code>, or <code>player3_loop</code>. In order to do so, we make use of a combination of loops run in a <code>trial_seq</code>. Build a basic setup running 60 trials, as in the example below. Some of you may realize already that with this solution there can be multiple throws in one trial; let’s forget about this issue for now and fix it later, i.e. in Exercise 1).</p><img id="yJpRpQzFyi" style="margin:0 auto" src="/build/Cyberball_condif-c89a08af24d1f9f76ed1c5bf55cf5e4b.png" data-canonical-url="images/Cyberball_condif.png" class=""/><p>Note that we used the Python syntax for the conditional statements. You can also use the OpenSesame syntax again in which case you omit the <code>=var.</code> and instead use square brackets around the variable name.</p></div><div id="QAoK04CBtA" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">display_quiz(&quot;questions/question_1.json&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="NxCU9908NSthEN3cXGM1o" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="O29Q1eym7a" class="relative group/block"></div><div id="llm6IYrqrX" class="relative group/block"><h3 id="step-2-programming-the-behaviour-of-player-1-and-player-3" class="relative group"><span class="heading-text">Step 2: Programming the behaviour of Player 1 and Player 3</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-2-programming-the-behaviour-of-player-1-and-player-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s now think about how to set up the <code>player1_loop</code> and <code>player3_loop</code>. These loops should retrieve the new destination that the virtual Players 1 and 3 will toss the ball to. So add a variable (column) in both loops named <code>target_player</code> and type in the possible destinations of that player (a player is not allowed to toss the ball to themselves! It would be an interesting extension of the paradigm, though...).</p><p>These loops fully determine the behaviour of Player 1 and Player 3. It’s up to you whether you want to make this behaviour predictable (use sequential selection), fully random (use random selection), or preferential (increase the number of rows of specific target players).</p><p>The example below implements a very predictable and non-preferential playing style for both players.</p></div><div id="e6wCQHqB2T" class="relative group/block"><img id="YhTxrqge3K" style="margin:0 auto" src="/build/Cyberball_player1+3-fe58ece4e5312b6eaba8ca961d000fea.png" data-canonical-url="images/Cyberball_player1+3.png" class=""/></div><div id="JLy6MNcRm3" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">display_quiz(&quot;questions/question_2.json&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kWwWWGHUx7H5OLpmDNlj4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="NfUoNRH2aN" class="relative group/block"><p>Now let these loops run a sequence called <code>play1_seq</code> and <code>play3_seq</code> that contain an inline_script (name the scripts <code>prepare_player1</code> and <code>prepare_player3</code> respectively) and a subsequently presented media player <code>media_player_mpy</code>.</p><p>Make sure you use the same media player object in both sequences (Hint: use the Copy (linked) - Paste feature using right mouse button clicks in the Overview area).</p><p>Hint: the media player object is available under the Visual stimuli header, at the bottom of the Toolbar (if you have a small screen resolution, it might be hidden under the small arrows pointing down).</p><p>Edit the <code>media_player_mpy</code> object in the following way:</p><ol start="1"><li><p>Refer to the variable <code>movie_filename</code> in the Video file field</p></li><li><p>Set the Duration property to <code>sound</code> so that this object is presented for the entire duration of the video</p></li></ol><p>Finally, give the variable <code>movie_filename</code> the initial (temporary) file name “&#x27;1to2.wmv” in the <code>init_exp</code> script. So add the following line there:</p></div><div id="lf6ZzMHNkx" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.movie_filename = &quot;1to2.wmv&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="UY7XxHJbTF" class="relative group/block"><p>Now, add this code in PreparePlayer1:</p></div><div id="TvrtqMm3nB" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.movie_filename = &quot;1to&quot; + str(var.target_player) + &quot;.wmv&quot;
var.current_player = var.target_player # info for next trial
items.prepare(&quot;media_player_mpy&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="WKT1Roun0D" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">display_quiz(&quot;questions/question_3.json&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="eXo2X77rVrYRKCF8WZlqK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="igCNcYrqmu" class="relative group/block"><p>This script overwrites the temporary filename in the MovieDisplay with the correct filename. The second line is also very important. Here, the value of the variable <code>current_player</code> is updated to the new destination, so that in the next trial the branching structure knows who is at that moment the <code>current_player</code>. Finally, because of the <a target="_blank" rel="noreferrer" href="https://osdoc.cogsci.nl/3.3/manual/prepare-run/" class="">prepare-run strategy</a> in OpenSesame, the temporary filename was used to prepare the media player at the start of the trial. To make sure the media player is updated and shows the proper file, we manually prepare it again using the items.prepare command.</p><p>Almost the same code should be added to the PreparePlayer3 InLine:</p></div><div id="f04RK8VgCw" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.movie_filename = &quot;3to&quot; + str(var.target_player) + &quot;.wmv&quot;
var.current_player = var.target_player # info for next trial
items.prepare(&quot;media_player_mpy&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="QjZhngOJZn" class="relative group/block"><h3 id="step-3-programming-player-2" class="relative group"><span class="heading-text">Step 3: Programming Player 2</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-programming-player-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s now add a Procedure named <code>play2_seq</code> to the <code>player2_loop</code>. We don’t need any variables added to this loop. Just make sure the loop run only once.</p><p>Do the same for <code>play2_seq</code> as you did for <code>play1_seq</code> and <code>play3_seq</code> : add an inline script (name it <code>prepare_player2</code>) and insert the media player <code>media_player_mpy</code>(again paste a linked copy from the clipboard).</p><p>Now add a keyboard_response object to the beginning of the sequence (name it <code>wait_for_user</code>) and set it to log the responses 1 and 3. The keyboard_response object has an infinite timeout and will be terminated as soon as the user has decided which player they want to toss the ball to (i.e. Player 1 or 3).</p><p>To show the correct movie after the response to the <code>wait_for_user</code>object, we need the following code in the <code>prepare_player2</code> script:</p></div><div id="OlkXZXI2Ns" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.movie_filename = &quot;2to&quot; + str(var.response) + &quot;.wmv&quot;
var.current_player = var.response # info for next trial
items.prepare(&quot;media_player_mpy&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="GVdKm2T5uS" class="relative group/block"><p>Done! Compare the structure of your experiment with the flowchart. You should now be able to play the Cyberball game. Use the “Run in window” feature and open the Variable inspector while your experiment runs. Check whether the variables <code>movie_filename</code> and <code>current_player</code> are properly updated.</p></div><div id="L2L6VxDkH2" class="relative group/block"><h2 id="alternative-solution-custom-code-to-play-the-movie" class="relative group"><span class="heading-text">Alternative solution: Custom code to play the movie</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#alternative-solution-custom-code-to-play-the-movie" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Although OpenSesame does have the standard <code>media_player_mpy</code> object to play a movie, you may notice that it does not work flawless. For example, if you are too quick, the response to player 2 is not recorded because there seems to be a small delay at the end of the movie. In addition, at the end of the movie the screen is cleared using the default OpenSesame background color. This creates an annoying screen glitch between movies.</p><p>No worries though. We can create our own python code to play a movie where we have full control. However, do not expect this is simple. :)</p><p>Save your old experiment and then save it again under a new filename. Now replace the media_player_mpy objects everywhere with a script called <code>play_movie</code>. Also, remove the <code>items.prepare(&quot;media_player_mpy&quot;)</code> calls from all inlines.</p><p>Let’s first create a simple loop that presents something that moves on the screen. This code should be inserted into the <code>play_movie</code> inline script.</p></div><div id="GvDkgRTOqJ" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">my_canvas = Canvas()

for i in range(-25,25):
    my_canvas.text(var.movie_filename)
    my_canvas.text(&quot;*&quot;,x = i*5,y = 50)
    my_canvas.show()
    clock.sleep(40)
    my_canvas.clear()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="rGQmD6Awcg" class="relative group/block"><p>Time to test the experiment. Do you see something moving on the screen? And do you see when it is your (player 2) turn?</p><p>Experiment with the settings of the sleep parameter (speed of the asterisk) and the x (horizontal position) and the y (vertical position).</p><p>Can you change the vertical position into a quadratic shape so it looks like a ball is thrown?<br/>y = i**2 - 200</p><p>Okay, this was boring, right? Time to change the loop and present the movie itself.</p><p>First comment the code you just wrote (select everything and press <code>Ctrl + /</code> (see OpenSesame <a target="_blank" rel="noreferrer" href="https://osdoc.cogsci.nl/3.3/manual/interface/#keyboard-shortcuts" class="">keyboard shortcuts</a>)</p><p>Now we first need to load the correct movie file and then present the picture frame by frame in the loop.</p><p>Of course, do not reinvent the wheel! Others have provided pieces of code we can recycle. Google is your friend. The example below is adapted from the <a target="_blank" rel="noreferrer" href="https://osdoc.cogsci.nl/3.3/manual/stimuli/video/" class="">OpenSesame website</a>.</p></div><div id="eWpLyyPGNn" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">import cv2
import numpy
import pygame
# Full path to the video file in file pool
path = pool[var.movie_filename]
# Open the video
video = cv2.VideoCapture(path)
# A loop to play the video file. This can also be a while loop until a key
# is pressed. etc.
for i in range(100):
    # Get a frame
    try:
        retval, frame = video.read()
        # Rotate it, because for some reason it otherwise appears flipped.
        frame = numpy.rot90(frame)
        # Flip it (vertically?!), because for some reason it otherwise appears horizontally (!) flipped.
        frame = numpy.flipud(frame)
        # The video uses BGR colors and PyGame needs RGB

        frame = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)
        # Create a PyGame surface
        surf = pygame.surfarray.make_surface(frame)
    except:
        #end of movie
        break

    # Show the PyGame surface!
    exp.surface.blit(surf, (0, 0))
    pygame.display.flip()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="ZsVfsOajB6" class="relative group/block"><p>Were all steps implemented correctly? Check whether the game works using this custom code. Insert a blank <code>sketchpad</code> with duration 0 after the instructions <code>sketchpad</code>  to make sure the canvas is not drawn on the previous instruction screen.</p></div><div id="YX3iUnEzGv" class="relative group/block"><h2 id="exercises" class="relative group"><span class="heading-text">Exercises</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercises" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="exercise-1-loop-the-countdown-timer-using-code" class="relative group"><span class="heading-text">Exercise 1. Loop the countdown timer using code</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-1-loop-the-countdown-timer-using-code" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Open the OpenSesame file with the countdown timer you created in Chapter 7. Now replace the OpenSesame <code>loop</code> object with a loop in python code that runs 10 times and that updates the display each 500 ms.</p><h3 id="exercise-2-create-a-function-of-the-countdown-timer" class="relative group"><span class="heading-text">Exercise 2. Create a function of the countdown timer</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-2-create-a-function-of-the-countdown-timer" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>If this works, create a new function called <code>my_timer</code> that accepts the desired duration of the countdown timer as a parameter. Change the code in such a way that when you for example call my_timer(30) in a new python <code>inline</code>, the countdown timer is presented for approximately 30 seconds and is updated in 60 steps of 500 ms.</p><h3 id="exercise-3-fixing-the-issue-of-incorrect-number-of-trials" class="relative group"><span class="heading-text">Exercise 3. Fixing the issue of incorrect number of trials</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-3-fixing-the-issue-of-incorrect-number-of-trials" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Go back to the file of the Cyberball game you implemented in the tutorial.</p><p>Change the number of trials in <code>trial_loop</code> to 1. How many throws do you see? Why are there multiple throws in one trial?</p><p>To fix this issue, we have to make sure of value of current_player (for the next trial) is assigned after all three player_loop’s have run. To do so, save the new value of the current_player first in another (temporary) variable, and add a new <code>inline_script</code> object at the end (!) of <code>trial_seq</code> that assigns the new value to current_player.</p><p>For example, in the <code>prepare_player1</code> <code>inline_script</code> change:</p></div><div id="L0ZTadsFOo" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.current_player = var.target_player # info for next trial</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="bD16orYiAJ" class="relative group/block"><p>into</p></div><div id="S1PlJ3go0d" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.tempcurrent_player = var.target_player # info for next trial</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="DXCoytAGmn" class="relative group/block"><p>Also modify the other two <code>inline_scripts</code>. Finally, the new <code>inline_script</code> at the end of the trial (i.e., after player3_loop) simply says:</p></div><div id="EJQIEjcpEH" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">var.current_player = var.tempcurrent_player</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="JkwUo4sljG" class="relative group/block"><p>Check whether each trial now only contains a single throw.</p></div><div id="AixBNfJVXk" class="relative group/block"><h3 id="exercise-4-present-the-video-at-the-center-of-the-screen" class="relative group"><span class="heading-text">Exercise 4. Present the video at the center of the screen</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-4-present-the-video-at-the-center-of-the-screen" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s move the video to the center of the screen. The upper-left corner is determined by the (x,y) coordinates we provide to <code>exp.surface.blit</code></p><p>In order to determine the correct coordinates we need to know the width and height of the screen resolution currently used in the experiment. For this we can use Open Sesame’s <a target="_blank" rel="noreferrer" href="https://osdoc.cogsci.nl/3.3/manual/variables/#built-in-variables" class="">built-in variables</a> <code>var.width</code> and <code>var.height</code>.</p><p>To determine the width and height of the video file presented (units are pixels) we need some functionality provided by the cv2 package. Nobody knows this by heart, so let’s google it. When I searched “cv2 height of video”, I found some useful information <a target="_blank" rel="noreferrer" href="https://stackoverflow.com/questions/39953263/get-video-dimension-in-python-opencv" class="">here</a>.</p><p>So let’s save the width and heigth of the video in a separate variable after you called the cv2.VideoCapture command and insert it in the correct location of your script.</p></div><div id="YenXakW60U" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">videowidth = video.get(cv2.CAP_PROP_FRAME_WIDTH )
videoheight = video.get(cv2.CAP_PROP_FRAME_HEIGHT)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="pcyD9LlXOf" class="relative group/block"><p>Now, combine the dimensions of the screen (stored in the experimental variables <code>width</code> and <code>height</code>) and the video to determine the upper-left corner position and feed this as coordinates into exp.surfdrive.blit.</p></div><div id="tYHZoKSNZ1" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">exp.surface.blit(surf, ((var.width - videowidth) / 2, (var.height - videoheight) / 2))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="hw8AsRrCHr" class="relative group/block"><h3 id="exercise-5-change-the-speed-of-the-video" class="relative group"><span class="heading-text">Exercise 5. Change the speed of the video</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-5-change-the-speed-of-the-video" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>As you may have noticed, the speed of the video is currently determined by the speed of your cpu. If you have a very quick cpu the video is presented quicker than if you have a very slow cpu.</p><p>Let’s change that. Actually, the wmv contains information about the supposed number of frames that have to be presented in a second (fps = frames per second). Let’s save the <code>fps</code> information:</p></div><div id="NFa9kFRZkq" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">fps =  video.get(cv2.CAP_PROP_FPS)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="DGFRQ7QRl8" class="relative group/block"><p>Use the print method to determine the fps for our video’s. Look in the console for the value.</p></div><div id="OjhQynm39H" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">display_quiz(&quot;questions/question_4.json&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="DFtdaifowApiKK3V9_vrJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="NZuRXf1Tg5" class="relative group/block"><p>Now, we can simply delay the time between each look with <code>1000 / fps</code> ms within each loop to present the video at a slower rate. Add the following code in the loop that presents the frames:</p></div><div id="tOBCq3WAIG" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">clock.sleep(1000/fps)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="Wj1ey36GyK" class="relative group/block"><p>Try whether this works!</p><p>Assume you run this code on a very slow or a very fast computer. You will notice that the movie might be presented at a different pace! This is because runnign the code itself also takes time and even a few milliseconds delay can over time accumulate into a distorted presentation.</p><p>Because the code that presents the picture also needs some time, we actually need a smarter piece of code that only waits if there is time remaining after all the other works has been done. So we need a function like the clock.tick() described <a target="_blank" rel="noreferrer" href="https://stackoverflow.com/questions/34383559/pygame-clock-tick-vs-framerate-in-game-main-loop" class="">here</a>.</p><p>The function below mimics the functionality of the clock.tick method:</p></div><div id="lN3eRoIDGd" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">def myclocktick(foo):
  #inspired by clock.tick
  #see https://stackoverflow.com/questions/34383559/pygame-clock-tick-vs-framerate-in-game-main-loop
  if var.has(u&#x27;prevt&#x27;):
        diff = ((1000/foo) - (clock.time() - var.prevt) ) - 10
        if diff&gt;0:
            clock.sleep(diff)

  var.prevt = clock.time()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="ZKw9v92lAN" class="relative group/block"><p>Here, <code>foo</code> is used as a metasyntactic variable or a placeholder for a value that can change.</p><p>Paste this code in the <code>Prepare</code> tab of the <code>play_movie</code> inline script. Then, in the <code>Run</code> tab replace the clock.sleep code with the following line:</p></div><div id="ujvCjB4DAy" class="relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">myclocktick(fps)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="OFCdkNcsHl" class="relative group/block"><p>Try whether you notice any differences. On slower computers the movie may play more smoothly now.</p></div><div id="RtppPYYOLP" class="relative group/block"><h3 id="exercise-6-manipulate-the-level-of-social-exclusion" class="relative group"><span class="heading-text">Exercise 6. Manipulate the level of social exclusion</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-6-manipulate-the-level-of-social-exclusion" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Add a <code>block_loop</code> around the trials_loop that runs two blocks. In one block (the exclusion block), player1 and player 3prefer to play with the other player in 8 out of 10 times. In the other block they have equal preference to play with you (player 2) or the other player.</p><p>Hint: you need to set the weight of the rows in player1_loop and player2_loop (see the <a target="_blank" rel="noreferrer" href="https://osdoc.cogsci.nl/3.3/manual/structure/loop/#advanced-loop-operations" class="">advanced loop</a> documentation). Make sure you shuffle after the weight command, otherwise the repeats are presented after each other (behavior that is different in E-Prime)!</p><p>The figure below illustrates how you can set the weight of the <code>player1_loop</code> (do the same for <code>player3_loop</code>!) by referring to a variable that is defined one level higher in the hierarchy, i.e. in the <code>block_loop</code>. Do not press the Preview button though (it will crash because we do not refer to fixed values for the weighting).</p><p><br/><img id="B1b4MwZh1s" style="margin:0 auto" src="/build/Cyberball_nestedloop-a7cc6c9878c93dcc081b25fae7a1641f.png" data-canonical-url="images/Cyberball_nestedloops.png" class=""/></p><p>Test whether this works. Do you feel more excluded in the first block then in the second block?</p><p>Add a third block that includes you 8 out of 10 times. Does the inclusion make you feel better?</p></div><div id="eq9HkYlDFi" class="relative group/block"><h3 id="exercise-7-alternatives-to-manually-prepare-an-opensesame-object" class="relative group"><span class="heading-text">Exercise 7. Alternatives to manually prepare an OpenSesame object</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-7-alternatives-to-manually-prepare-an-opensesame-object" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Experiment with two alternatives to the items.prepare() method:</p><h4 id="id-1-dummy-loop-solution" class="relative group"><span class="heading-text">1. Dummy loop solution</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1-dummy-loop-solution" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Open the old experiment with the media_player you saved after Step 3. Replace the <code>media_player_mpy</code> with a dummy_loop that runs the media_player_mpy object. Add the column <code>my_movie_filename</code> to the dummy_loop (loop object) and enter the value <code>[movie_filename]</code> in the first row. Change the Video file field of media_player_mpy to [my_movie_filename]. Remove any reference to the items.prepare() command in all inlines. Because the prepare-run strategy is repeated for each loop separately, the movie is updated automatically at the end of the trial. Try whether this solution works.</p><h4 id="id-2-run-if-solution" class="relative group"><span class="heading-text">2. Run-If solution</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-run-if-solution" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Because we have a limited number of videos to present (six combinations) it might be more elegant to preload all relevant movies in the beginning of the trial and use the Run If feature to only present the video that shows the correct target_player.  Open the old experiment with the media_player you saved after Step 3. Remove any reference to the items.prepare() command in all inlines. Use two media_players per trial with fixed filenames. Run only the relevant video depending on the value of target_player using the Run if feature in the <code>play1_seq</code>, <code>play2_seq</code>, and <code>play3_seq</code> sequences.</p></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/intro-8"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)</div>Chapter 8 - Loops</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/loops-python-lessons"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)</div>Optional Study Material - Python lessons: Loops</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-XWET6RJ7.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-C7FW3E47.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-ND43KHSX.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-ZJOPFBMV.js"/><link rel="modulepreload" href="/build/_shared/chunk-NFM2H3KQ.js"/><link rel="modulepreload" href="/build/routes/$-CQPS5IOR.js"/><script>window.__remixContext = {"url":"/cyberball","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.4","options":{},"nav":[],"actions":[],"projects":[{"github":"https://github.com/henkvs/experimentation_i_2526","id":"fdc287a4-bef1-4a88-8371-b58a7d84739d","exports":[],"bibliography":[],"title":"Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)","index":"intro","pages":[{"slug":"intro-1","title":"Chapter 1 - Introduction to OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gettingready-software","title":"Install OpenSesame on your device","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conflict-tasks-stroop","title":"Stroop task in OpenSesame","description":"","date":"","thumbnail":"/build/image24-9a6bcbd689012d578387e2f9e4a5feed.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-2","title":"Chapter 2 - Experimental Design I","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conflict-tasks-flanker","title":"Flanker task in OpenSesame","description":"","date":"","thumbnail":"/build/image36-be9c1e21e911d1b201491509170bee40.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-3","title":"Chapter 3 - Experimental Design II","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conflict-tasks-gonogo","title":"Go-nogo task in OpenSesame","description":"","date":"","thumbnail":"/build/image63-fca13d6803f2a587456a0a1e3cb8aec4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-4","title":"Chapter 4 - Variables (in OpenSesame)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gaze-cuing","title":"Gaze cuing task in OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-5","title":"Chapter 5 - Variables (in python)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gettingready-pythonsoftware","title":"Installing Anaconda and how to run python code using this website","description":"","date":"","thumbnail":"/build/spyder_prompt-f71f45a1bc3da71c1c94b1891c64a933.JPG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"variables-python-exercises","title":"Python exercises: Variables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gettingready-python-lessons","title":"Optional Study Material - Python lessons: Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"variables-python-lessons","title":"Optional Study Material - Python lessons: Variables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-6","title":"Chapter 6 - Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"wcst","title":"The Wisconsin Card Sorting Task in OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conditionals-python-lessons","title":"Optional Study Material - Python lessons: Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conditionals-python-exercises","title":"Optional Study Material - Python exercises: Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-7","title":"Chapter 7 - Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"ultimatumgame","title":"The Ultimatum Game in OpenSesame","description":"","date":"","thumbnail":"/build/DefaultOverview-11d70dca6f2ebc32c190f2718cb97df3.PNG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"functions-python-lessons","title":"Optional Study Material - Python lessons: Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"functions-python-exercises","title":"Optional Study Material - Python exercises: Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-8","title":"Chapter 8 - Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"cyberball","title":"The Cyberball game in OpenSesame","description":"","date":"","thumbnail":"/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"loops-python-lessons","title":"Optional Study Material - Python lessons: Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"loops-python-exercises","title":"Optional Study Material - Python exercises: Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-9","title":"Chapter 9 - Strings and lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"digitspan","title":"Memory Span Task in OpenSesame","description":"","date":"","thumbnail":"/build/resort_loop-d5ff2286818acaac6f2dd8d123e1b4d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strings-python-lessons","title":"Optional Study Material - Python lessons: Strings","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lists-python-lessons","title":"Optional Study Material - Python lessons: Lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strings-python-exercises","title":"Optional Study Material - Python exercises: Strings","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lists-python-exercises","title":"Optional Study Material - Python exercises: Lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-10","title":"Chapter 10 - Q\u0026A","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"questionnaire","title":"Optional: Questionnaires in OpenSesame","description":"","date":"","thumbnail":"/build/overviewques-c96228e074b20c9b84024cb952463c29.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"solutions","title":"Solutions","description":"","date":"","thumbnail":"/build/solution_counterbala-38a8c3a3e9a002e818332125abff5dc5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.4","options":{},"nav":[],"actions":[],"projects":[{"github":"https://github.com/henkvs/experimentation_i_2526","id":"fdc287a4-bef1-4a88-8371-b58a7d84739d","exports":[],"bibliography":[],"title":"Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)","index":"intro","pages":[{"slug":"intro-1","title":"Chapter 1 - Introduction to OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gettingready-software","title":"Install OpenSesame on your device","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conflict-tasks-stroop","title":"Stroop task in OpenSesame","description":"","date":"","thumbnail":"/build/image24-9a6bcbd689012d578387e2f9e4a5feed.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-2","title":"Chapter 2 - Experimental Design I","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conflict-tasks-flanker","title":"Flanker task in OpenSesame","description":"","date":"","thumbnail":"/build/image36-be9c1e21e911d1b201491509170bee40.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-3","title":"Chapter 3 - Experimental Design II","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conflict-tasks-gonogo","title":"Go-nogo task in OpenSesame","description":"","date":"","thumbnail":"/build/image63-fca13d6803f2a587456a0a1e3cb8aec4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-4","title":"Chapter 4 - Variables (in OpenSesame)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gaze-cuing","title":"Gaze cuing task in OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-5","title":"Chapter 5 - Variables (in python)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gettingready-pythonsoftware","title":"Installing Anaconda and how to run python code using this website","description":"","date":"","thumbnail":"/build/spyder_prompt-f71f45a1bc3da71c1c94b1891c64a933.JPG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"variables-python-exercises","title":"Python exercises: Variables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gettingready-python-lessons","title":"Optional Study Material - Python lessons: Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"variables-python-lessons","title":"Optional Study Material - Python lessons: Variables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-6","title":"Chapter 6 - Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"wcst","title":"The Wisconsin Card Sorting Task in OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conditionals-python-lessons","title":"Optional Study Material - Python lessons: Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conditionals-python-exercises","title":"Optional Study Material - Python exercises: Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-7","title":"Chapter 7 - Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"ultimatumgame","title":"The Ultimatum Game in OpenSesame","description":"","date":"","thumbnail":"/build/DefaultOverview-11d70dca6f2ebc32c190f2718cb97df3.PNG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"functions-python-lessons","title":"Optional Study Material - Python lessons: Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"functions-python-exercises","title":"Optional Study Material - Python exercises: Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-8","title":"Chapter 8 - Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"cyberball","title":"The Cyberball game in OpenSesame","description":"","date":"","thumbnail":"/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"loops-python-lessons","title":"Optional Study Material - Python lessons: Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"loops-python-exercises","title":"Optional Study Material - Python exercises: Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-9","title":"Chapter 9 - Strings and lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"digitspan","title":"Memory Span Task in OpenSesame","description":"","date":"","thumbnail":"/build/resort_loop-d5ff2286818acaac6f2dd8d123e1b4d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strings-python-lessons","title":"Optional Study Material - Python lessons: Strings","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lists-python-lessons","title":"Optional Study Material - Python lessons: Lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strings-python-exercises","title":"Optional Study Material - Python exercises: Strings","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lists-python-exercises","title":"Optional Study Material - Python exercises: Lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-10","title":"Chapter 10 - Q\u0026A","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"questionnaire","title":"Optional: Questionnaires in OpenSesame","description":"","date":"","thumbnail":"/build/overviewques-c96228e074b20c9b84024cb952463c29.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"solutions","title":"Solutions","description":"","date":"","thumbnail":"/build/solution_counterbala-38a8c3a3e9a002e818332125abff5dc5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"page":{"version":2,"kind":"Notebook","sha256":"aecf3532ad248345d2f0f0a63b868ef8c2ffea73be02f8c4add2b4385486d559","slug":"cyberball","location":"/content/.08_loops/cyberball/Cyberball.ipynb","dependencies":[],"frontmatter":{"title":"The Cyberball game in OpenSesame","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/henkvs/experimentation_i_2526","numbering":{"title":{"offset":1}},"thumbnail":"/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png","exports":[{"format":"ipynb","filename":"Cyberball.ipynb","url":"/build/Cyberball-c60190b60e5cb94455f11b265a9cdcc2.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Note:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VpDO7V8Jo7"}],"key":"cGWqHvF6vx"},{"type":"text","value":" Part of the text below is adapted from The E-Primer (Spapé, Verdonschot, \u0026 van Steenbergen, 2019). Spapé M.M.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nMJdPPQhv3"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":", Verdonschot, R.G., \u0026 van Steenbergen, H.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pZYID0LTO5"}],"key":"V6Om66Z9vX"},{"type":"text","value":" (2019) The E-Primer: An introduction to creating psychological experiments in E-Prime. Second edition updated for E-Prime 3. Leiden: Leiden University Press. ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OwjzupYO5A"},{"type":"link","url":"http://www.e-primer.com","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"www.e-primer.com","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xcrPDYRfaO"}],"urlSource":"http://www.e-primer.com","key":"d4TeE8WhR9"},{"type":"text","value":" Copyright 2019 by the authors and LUP. Adapted with permission.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aFjYHTfjJe"}],"key":"VAfiisa6cm"}],"key":"x9A6Bu0V2S"}],"key":"sLqaYosK34"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from jupyterquiz import display_quiz","key":"UUR5NlDsj3"},{"type":"output","id":"232V20Iw7FFEx-kuoj7SI","data":[],"key":"RVkszI8hm7"}],"key":"nuAcPWzD2A"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Wc7wzIlTHr"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"JzsjGG2yer"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The Cyberball game allows psychologists to investigate the effects of social exclusion (ostracism). Kipling D. Williams came up with this idea after a Frisbee rolled up and hit him in the back when relaxing in a park in 1983:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"F9bxpi68w7"}],"key":"bgpjfuKr00"},{"type":"blockquote","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"He turned around, saw two other guys looking at him expectantly, and threw the Frisbee back to them. He was a bit surprised when they threw the disk back to him; he walked toward them to form a triangle, and threw it back again. For about a minute, the three of them threw the Frisbee around in a spirited game of catch. What happened next sparked an idea as to how to study the effects of ostracism. For no apparent reason, the two original players started throwing the Frisbee only to each other, and never threw it to the newcomer again. After sheepishly back-stepping toward his dog, the author was amazed at how bad he felt. He was sad, embarrassed, and a bit angry. He wondered what he had done to warrant being ostracised by the other two players. He sought comfort from his faithful dog. Then, it occurred to him that something like this, adapted for the laboratory, would be an excellent means to study ostracism and social exclusion. (Williams \u0026 Jarvis, 2006, p.174).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zTPwWFf5yN"}],"key":"NIauhGhiAl"}],"key":"hRDpLPiP1b"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"These are the instructions participants usually receive:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"yWRADpOG9o"}],"key":"WDa9yDWjUi"},{"type":"blockquote","position":{"start":{"line":10,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"\"Welcome to Cyberball, the Interactive Ball-Tossing Game Used for Mental Visualisation!","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"PFEBrV7EQg"}],"key":"wZth2o2nzv"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"In the upcoming experiment, we test the effects of practising mental visualisation on task performance. Thus, we need you to practise your mental visualisation skills. We have found that the best way to do this is to have you play an on-line game of catch with other participants who are logged on at the same time.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EvX9ROzLMH"}],"key":"B8QzA6HMRr"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"In a few moments, you will be playing a game of catch with other students over our network. The game is very simple. When the ball is tossed to you, simply use the keyboard to indicate the player (with numerical key 1 or 3) you want to throw it to. When the game is over, the experimenter will give you additional instructions.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"GTbvkgQqsg"}],"key":"G8juiIEHBn"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"What is important is not your ball tossing performance, but that you MENTALLY VISUALISE the entire experience. Imagine what the others look like. What sort of people are they? Where are you playing? Is it warm and sunny, or cold and rainy? Create in your mind a complete mental picture of what might be going on if you were playing this game in real life.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"y6ZOCgNjZp"}],"key":"AToD3MGNUC"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Okay, ready to begin?\"","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"oS9lygB46N"}],"key":"HLQUoawacO"}],"key":"uUCKSCwWYU"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"This is what the game looks like at the start:","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"bzNpxaOXKY"}],"key":"pgurWpSbQd"},{"type":"image","url":"/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"dbOzhVbMec","urlSource":"images/Cyberball1.png"}],"key":"rhtYsUfjHn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1: Programming the basic experimental flow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HtmP18JHCg"}],"identifier":"step-1-programming-the-basic-experimental-flow","label":"Step 1: Programming the basic experimental flow","html_id":"step-1-programming-the-basic-experimental-flow","implicit":true,"key":"df83c9a75Q"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To program the game, you first need some movie clips that show a ball moving between the players. You need six of them depicting all possible directions:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FBIqXxNyIJ"}],"key":"XPw3NWFwY6"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"From player 1 to player 2 ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gCyNP7BpuO"},{"type":"link","url":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/1to2.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1to2.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OtNp4fkoaI"}],"urlSource":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/1to2.wmv","key":"dlGr4xg9VQ"},{"type":"text","value":"\nFrom player 1 to player 3 ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IyAPwYmOti"},{"type":"link","url":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/1to3.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1to3.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FoyebVKggn"}],"urlSource":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/1to3.wmv","key":"moWKONPbjn"},{"type":"text","value":"\nFrom player 2 to player 1 ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"K1Dyn2jqCZ"},{"type":"link","url":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/2to1.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"2to1.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yW5dFljjzb"}],"urlSource":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/2to1.wmv","key":"yYBt52rgXx"},{"type":"text","value":"\nFrom player 2 to player 3 ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Y0UIojZ1jE"},{"type":"link","url":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/2to3.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"2to3.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZJuJLQmskO"}],"urlSource":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/2to3.wmv","key":"CJQLiCpR51"},{"type":"text","value":"\nFrom player 3 to player 1 ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tvpNZdhLSG"},{"type":"link","url":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/3to1.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"3to1.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AWJj8H2FKg"}],"urlSource":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/3to1.wmv","key":"c145VWFozN"},{"type":"text","value":"\nFrom player 3 to player 2 ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"amRI4ycMVE"},{"type":"link","url":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/3to2.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"3to2.wmv","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oDdJZQEgGf"}],"urlSource":"https://www.henkvansteenbergen.com/wp-content/uploads/E-Primer/3to2.wmv","key":"HfDKdM3prh"}],"key":"fZIv6JsRpA"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"The six movie files can be downloaded using the links.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"BgHZzrAlXC"}],"key":"cQdu0bilgD"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Note that these small Windows Media Files have been converted from the original animated gifs that are freely available on ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"IlyfdQj6GB"},{"type":"link","url":"http://www3.psych.purdue.edu/~willia55/Announce/cyberball.htm","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"K.D. Williams’ website","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"U1JV7wHOfG"}],"urlSource":"http://www3.psych.purdue.edu/~willia55/Announce/cyberball.htm","key":"Yo83A8vmkP"},{"type":"text","value":".","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"P4AZ8qPBhG"}],"key":"yhMw8xGzWA"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Now let’s draw the basic flow chart for each trial, which determines which movies should be played when:","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"KOCMPVz8uY"}],"key":"uYSjgijlk4"},{"type":"image","url":"/build/WhoseTurnOS-49e0f8c4a86c0341fbfafcdc625cc849.png","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"jMKSpgR9lB","urlSource":"images/WhoseTurnOS.png"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"This flow chart basically decides who is throwing the ball in this trial (Player 1, Player 2, or Player 3) and, by retrieving the values from a variable (column) from the OpenSesame Loop object (see next step), it will decide the destination of the ball.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"BrqyB0nvRJ"}],"key":"qo5QNpFsN7"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Let’s create the entire experiment from scratch and use the ‘default template’, which is already loaded when OpenSesame is launched. You can simple delete the ‘Get started!’ and copy paste the introduction described above in the ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"ROQFv5p1D7"},{"type":"inlineCode","value":"welcome","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"zSZMB9taVo"},{"type":"text","value":" sketchpad.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"eeDy48SK4q"}],"key":"RgS7i5PBgv"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Also, make sure you download and add all six video files mentioned above to the File pool first. Also, set the back-end of the experiment to ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"pANBYG9xQc"},{"type":"inlineCode","value":"legacy","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"SojqzhL5MJ"},{"type":"text","value":".","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"EzHJ7nCQsL"}],"key":"wyCuCLTSoR"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"At any moment during the experiment we need to have access to the information about which player currently has the ball. So, create a new variable named ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"p8w2S9ZkT4"},{"type":"inlineCode","value":"current_player","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"W0byJ0fgpa"},{"type":"text","value":" with the initial value 1, in a new inline_script called ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"bsTFG6KpW9"},{"type":"inlineCode","value":"init_exp","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"YDHs5Ohx4G"},{"type":"text","value":" at the beginning of your ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"SbRCQUukDK"},{"type":"inlineCode","value":"experiment","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"OqbgYHa2dE"},{"type":"text","value":" procedure (the game always starts with Player 1 throwing the ball). As shown here:","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"YU1v0yj1Qu"}],"key":"P8mVSPTy5e"}],"key":"WyHyNmFt0k"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"var.current_player = 1","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"YBZZQ1cSJn"}],"key":"M3Dri3JDZ7"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now you can implement the basic branching structure using conditional via the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GrKApnbmCW"},{"type":"link","url":"https://osdoc.cogsci.nl/3.3/manual/variables/#using-conditional-if-statements","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"run-if statement of the sequence","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zqip4dmObU"}],"urlSource":"https://osdoc.cogsci.nl/3.3/manual/variables/#using-conditional-if-statements","key":"u28XJ7pn42"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qSZAIQiehI"}],"key":"mfy9VoNONH"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Depending on the value in current_player, the script may run one single trial in either ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ba8rheMtKd"},{"type":"inlineCode","value":"player1_loop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"szxYhJOUOo"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RNvDD22QZR"},{"type":"inlineCode","value":"player2_loop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MwzhJWzce8"},{"type":"text","value":", or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eGibuWA6Mo"},{"type":"inlineCode","value":"player3_loop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VNQHSMK6mR"},{"type":"text","value":". In order to do so, we make use of a combination of loops run in a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a1QwGmnD8b"},{"type":"inlineCode","value":"trial_seq","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d5XZgp5nxt"},{"type":"text","value":". Build a basic setup running 60 trials, as in the example below. Some of you may realize already that with this solution there can be multiple throws in one trial; let’s forget about this issue for now and fix it later, i.e. in Exercise 1).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xKIo9kDGJZ"}],"key":"Gwli0gzXyY"},{"type":"image","url":"/build/Cyberball_condif-c89a08af24d1f9f76ed1c5bf55cf5e4b.png","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yJpRpQzFyi","urlSource":"images/Cyberball_condif.png"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Note that we used the Python syntax for the conditional statements. You can also use the OpenSesame syntax again in which case you omit the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aUaCyqCrhH"},{"type":"inlineCode","value":"=var.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"evEFfi104H"},{"type":"text","value":" and instead use square brackets around the variable name.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"U7dmoLqPpe"}],"key":"o3hENsMVTX"}],"key":"XM3i2QSXbO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"display_quiz(\"questions/question_1.json\")","key":"VGVufm0RTp"},{"type":"output","id":"NxCU9908NSthEN3cXGM1o","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"},"text/html":{"content":"\u003cdiv id=\"GTRiXaYfOYhr\" data-shufflequestions=\"False\"\n               data-shuffleanswers=\"True\"\n               data-preserveresponses=\"false\"\n               data-numquestions=\"1000000\"\u003e \u003cstyle\u003e:root {\n    --medium-slate-blue: #6f78ffff;\n    --orange-pantone: #f75c03ff;\n    --russian-violet: #392061ff;\n    --maximum-yellow-red: #ffc857ff;\n    --viridian-green: #119da4ff;\n    --incorrect-red: #c80202;\n    --correct-green: #009113;\n}\n\n.Quiz {\n    max-width: 600px;\n    margin-top: 15px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 15px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n    line-height: 1.1;\n    font-size: 16pt;\n}\n\n.QuizCode {\n    font-size: 14pt;\n    margin-top: 10px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n.QuizCode\u003epre {\n    padding: 4px;\n}\n\n.Answer {\n    margin: 10px 0;\n    display: grid;\n    grid-template-columns: auto auto;\n    grid-gap: 10px;\n}\n\n.Feedback {\n    font-size: 16pt;\n    text-align: center;\n    min-height: 2em;\n}\n\n.Input {\n    align: left;\n    font-size: 20pt;\n}\n\n.Input-text {\n    display: block;\n    margin: 10px;\n    color: inherit;\n    width: 140px;\n    background-color: #c0c0c0;\n    color: #fff;\n    padding: 5px;\n    padding-left: 10px;\n    font-family: inherit;\n    font-size: 20px;\n    font-weight: inherit;\n    line-height: 20pt;\n    border: none;\n    border-radius: 0.2rem;\n    transition: box-shadow 0.1s);\n}\n\n.Input-text:focus {\n    outline: none;\n    background-color: #c0c0c0;\n    box-shadow: 0.6rem 0.8rem 1.4rem -0.5rem #999999;\n}\n\n.MCButton {\n    background: #fafafa;\n    border: 1px solid #eee;\n    border-radius: 10px;\n    padding: 10px;\n    font-size: 16px;\n    cursor: pointer;\n    text-align: center;\n}\n\n.MCButton p {\n    color: inherit;\n}\n\n.MultipleChoiceQn {\n    padding: 10px;\n    background: var(--medium-slate-blue);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.ManyChoiceQn {\n    padding: 10px;\n    background: var(--orange-pantone);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn {\n    padding: 10px;\n    background: var(--russian-violet);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn p {\n    color: inherit;\n}\n\n.InpLabel {\n    line-height: 34px;\n    float: left;\n    margin-right: 10px;\n    color: #101010;\n    font-size: 15pt;\n}\n\n.incorrect {\n    color: var(--incorrect-red);\n}\n\n.correct {\n    color: var(--correct-green);\n}\n\n.correctButton {\n    /*\n    background: var(--correct-green);\n   */\n    animation: correct-anim 0.6s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n.incorrectButton {\n    animation: incorrect-anim 0.8s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n@keyframes incorrect-anim {\n    100% {\n        background-color: var(--incorrect-red);\n    }\n}\n\n@keyframes correct-anim {\n    100% {\n        background-color: var(--correct-green);\n    }\n}\u003c/style\u003e","content_type":"text/html"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.Javascript object\u003e","content_type":"text/plain"},"application/javascript":{"content_type":"application/javascript","hash":"6c4d03943484c98c26e861055162f944","path":"/build/6c4d03943484c98c26e861055162f944.json"}}}],"key":"IzF7IVV1Ob"}],"key":"QAoK04CBtA"},{"type":"block","kind":"notebook-content","children":[],"key":"O29Q1eym7a"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Step 2: Programming the behaviour of Player 1 and Player 3","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OQm8kiTGiQ"}],"identifier":"step-2-programming-the-behaviour-of-player-1-and-player-3","label":"Step 2: Programming the behaviour of Player 1 and Player 3","html_id":"step-2-programming-the-behaviour-of-player-1-and-player-3","implicit":true,"key":"oO4ZjhUKwh"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Let’s now think about how to set up the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EiHwtW6seQ"},{"type":"inlineCode","value":"player1_loop","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DGYX0KMv5E"},{"type":"text","value":" and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EEpB4HC6IG"},{"type":"inlineCode","value":"player3_loop","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UIuzFbtJ7D"},{"type":"text","value":". These loops should retrieve the new destination that the virtual Players 1 and 3 will toss the ball to. So add a variable (column) in both loops named ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KcSyMdq0gv"},{"type":"inlineCode","value":"target_player","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"J6VPfzxuyj"},{"type":"text","value":" and type in the possible destinations of that player (a player is not allowed to toss the ball to themselves! It would be an interesting extension of the paradigm, though...).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"BHwOHVn5Yv"}],"key":"uABJE3qD7n"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"These loops fully determine the behaviour of Player 1 and Player 3. It’s up to you whether you want to make this behaviour predictable (use sequential selection), fully random (use random selection), or preferential (increase the number of rows of specific target players).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FQ4vOkky6r"}],"key":"bb7hcqkVld"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The example below implements a very predictable and non-preferential playing style for both players.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"f5pKBocRvC"}],"key":"TAX8PlWfeW"}],"key":"llm6IYrqrX"},{"type":"block","kind":"notebook-content","children":[{"type":"image","url":"/build/Cyberball_player1+3-fe58ece4e5312b6eaba8ca961d000fea.png","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YhTxrqge3K","urlSource":"images/Cyberball_player1+3.png"}],"key":"e6wCQHqB2T"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"display_quiz(\"questions/question_2.json\")","key":"ocsdC5ny8j"},{"type":"output","id":"kWwWWGHUx7H5OLpmDNlj4","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"},"text/html":{"content":"\u003cdiv id=\"iyOeLElWgVfg\" data-shufflequestions=\"False\"\n               data-shuffleanswers=\"True\"\n               data-preserveresponses=\"false\"\n               data-numquestions=\"1000000\"\u003e \u003cstyle\u003e:root {\n    --medium-slate-blue: #6f78ffff;\n    --orange-pantone: #f75c03ff;\n    --russian-violet: #392061ff;\n    --maximum-yellow-red: #ffc857ff;\n    --viridian-green: #119da4ff;\n    --incorrect-red: #c80202;\n    --correct-green: #009113;\n}\n\n.Quiz {\n    max-width: 600px;\n    margin-top: 15px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 15px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n    line-height: 1.1;\n    font-size: 16pt;\n}\n\n.QuizCode {\n    font-size: 14pt;\n    margin-top: 10px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n.QuizCode\u003epre {\n    padding: 4px;\n}\n\n.Answer {\n    margin: 10px 0;\n    display: grid;\n    grid-template-columns: auto auto;\n    grid-gap: 10px;\n}\n\n.Feedback {\n    font-size: 16pt;\n    text-align: center;\n    min-height: 2em;\n}\n\n.Input {\n    align: left;\n    font-size: 20pt;\n}\n\n.Input-text {\n    display: block;\n    margin: 10px;\n    color: inherit;\n    width: 140px;\n    background-color: #c0c0c0;\n    color: #fff;\n    padding: 5px;\n    padding-left: 10px;\n    font-family: inherit;\n    font-size: 20px;\n    font-weight: inherit;\n    line-height: 20pt;\n    border: none;\n    border-radius: 0.2rem;\n    transition: box-shadow 0.1s);\n}\n\n.Input-text:focus {\n    outline: none;\n    background-color: #c0c0c0;\n    box-shadow: 0.6rem 0.8rem 1.4rem -0.5rem #999999;\n}\n\n.MCButton {\n    background: #fafafa;\n    border: 1px solid #eee;\n    border-radius: 10px;\n    padding: 10px;\n    font-size: 16px;\n    cursor: pointer;\n    text-align: center;\n}\n\n.MCButton p {\n    color: inherit;\n}\n\n.MultipleChoiceQn {\n    padding: 10px;\n    background: var(--medium-slate-blue);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.ManyChoiceQn {\n    padding: 10px;\n    background: var(--orange-pantone);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn {\n    padding: 10px;\n    background: var(--russian-violet);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn p {\n    color: inherit;\n}\n\n.InpLabel {\n    line-height: 34px;\n    float: left;\n    margin-right: 10px;\n    color: #101010;\n    font-size: 15pt;\n}\n\n.incorrect {\n    color: var(--incorrect-red);\n}\n\n.correct {\n    color: var(--correct-green);\n}\n\n.correctButton {\n    /*\n    background: var(--correct-green);\n   */\n    animation: correct-anim 0.6s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n.incorrectButton {\n    animation: incorrect-anim 0.8s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n@keyframes incorrect-anim {\n    100% {\n        background-color: var(--incorrect-red);\n    }\n}\n\n@keyframes correct-anim {\n    100% {\n        background-color: var(--correct-green);\n    }\n}\u003c/style\u003e","content_type":"text/html"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.Javascript object\u003e","content_type":"text/plain"},"application/javascript":{"content_type":"application/javascript","hash":"d8b588c5886379d892a63d280c46892a","path":"/build/d8b588c5886379d892a63d280c46892a.json"}}}],"key":"jzY5Gw6QZs"}],"key":"JLy6MNcRm3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now let these loops run a sequence called ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LeYqDvd2jv"},{"type":"inlineCode","value":"play1_seq","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P3SIrb7CVU"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wEEJYjX54B"},{"type":"inlineCode","value":"play3_seq","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a8kuEZKcj4"},{"type":"text","value":" that contain an inline_script (name the scripts ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qi3DhpFJk2"},{"type":"inlineCode","value":"prepare_player1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dQNDlIRfIN"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pxTAxvp4vS"},{"type":"inlineCode","value":"prepare_player3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H86hPDLNlo"},{"type":"text","value":" respectively) and a subsequently presented media player ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dN6elthOZF"},{"type":"inlineCode","value":"media_player_mpy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TCHTfVd77H"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RjgSwzau2h"}],"key":"SdeS7jcpB1"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Make sure you use the same media player object in both sequences (Hint: use the Copy (linked) - Paste feature using right mouse button clicks in the Overview area).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PkanqSLXB9"}],"key":"SX0ZxSJHk3"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Hint: the media player object is available under the Visual stimuli header, at the bottom of the Toolbar (if you have a small screen resolution, it might be hidden under the small arrows pointing down).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yg36KabCcP"}],"key":"vXu5wXbzWd"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Edit the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"x54sLG4m6p"},{"type":"inlineCode","value":"media_player_mpy","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CH58MXR6Yb"},{"type":"text","value":" object in the following way:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"B3ticMKlr4"}],"key":"CAYa4cr5HB"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Refer to the variable ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"z3uMmBULB0"},{"type":"inlineCode","value":"movie_filename","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BYFSjycQ7P"},{"type":"text","value":" in the Video file field","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"TM0T0urNbF"}],"key":"iJKSxrYPWH"}],"key":"tsSrJ5lcoe"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Set the Duration property to ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gCBEurKFou"},{"type":"inlineCode","value":"sound","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ax11v2Wk8J"},{"type":"text","value":" so that this object is presented for the entire duration of the video","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fMkGmsTg61"}],"key":"VyojtoQp5j"}],"key":"Zf2XbBLma1"}],"key":"z9njeySWpq"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Finally, give the variable ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pDJReOZrvZ"},{"type":"inlineCode","value":"movie_filename","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"xHf30YU1cV"},{"type":"text","value":" the initial (temporary) file name “'1to2.wmv” in the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gqxQRfiv1O"},{"type":"inlineCode","value":"init_exp","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"mG4WwUvoPX"},{"type":"text","value":" script. So add the following line there:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SvbqlRHwWi"}],"key":"jnEWkhHgOf"}],"key":"NfUoNRH2aN"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"var.movie_filename = \"1to2.wmv\"","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"RMpkh5rxuf"}],"key":"lf6ZzMHNkx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, add this code in PreparePlayer1:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wqVUYEW4pK"}],"key":"YpyQulbZJf"}],"key":"UY7XxHJbTF"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"var.movie_filename = \"1to\" + str(var.target_player) + \".wmv\"\nvar.current_player = var.target_player # info for next trial\nitems.prepare(\"media_player_mpy\")","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"key":"hxsivMJUvc"}],"key":"TvrtqMm3nB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"display_quiz(\"questions/question_3.json\")","key":"by8fMBgMXO"},{"type":"output","id":"eXo2X77rVrYRKCF8WZlqK","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"},"text/html":{"content":"\u003cdiv id=\"mKhYHjALWXev\" data-shufflequestions=\"False\"\n               data-shuffleanswers=\"True\"\n               data-preserveresponses=\"false\"\n               data-numquestions=\"1000000\"\u003e \u003cstyle\u003e:root {\n    --medium-slate-blue: #6f78ffff;\n    --orange-pantone: #f75c03ff;\n    --russian-violet: #392061ff;\n    --maximum-yellow-red: #ffc857ff;\n    --viridian-green: #119da4ff;\n    --incorrect-red: #c80202;\n    --correct-green: #009113;\n}\n\n.Quiz {\n    max-width: 600px;\n    margin-top: 15px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 15px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n    line-height: 1.1;\n    font-size: 16pt;\n}\n\n.QuizCode {\n    font-size: 14pt;\n    margin-top: 10px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n.QuizCode\u003epre {\n    padding: 4px;\n}\n\n.Answer {\n    margin: 10px 0;\n    display: grid;\n    grid-template-columns: auto auto;\n    grid-gap: 10px;\n}\n\n.Feedback {\n    font-size: 16pt;\n    text-align: center;\n    min-height: 2em;\n}\n\n.Input {\n    align: left;\n    font-size: 20pt;\n}\n\n.Input-text {\n    display: block;\n    margin: 10px;\n    color: inherit;\n    width: 140px;\n    background-color: #c0c0c0;\n    color: #fff;\n    padding: 5px;\n    padding-left: 10px;\n    font-family: inherit;\n    font-size: 20px;\n    font-weight: inherit;\n    line-height: 20pt;\n    border: none;\n    border-radius: 0.2rem;\n    transition: box-shadow 0.1s);\n}\n\n.Input-text:focus {\n    outline: none;\n    background-color: #c0c0c0;\n    box-shadow: 0.6rem 0.8rem 1.4rem -0.5rem #999999;\n}\n\n.MCButton {\n    background: #fafafa;\n    border: 1px solid #eee;\n    border-radius: 10px;\n    padding: 10px;\n    font-size: 16px;\n    cursor: pointer;\n    text-align: center;\n}\n\n.MCButton p {\n    color: inherit;\n}\n\n.MultipleChoiceQn {\n    padding: 10px;\n    background: var(--medium-slate-blue);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.ManyChoiceQn {\n    padding: 10px;\n    background: var(--orange-pantone);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn {\n    padding: 10px;\n    background: var(--russian-violet);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn p {\n    color: inherit;\n}\n\n.InpLabel {\n    line-height: 34px;\n    float: left;\n    margin-right: 10px;\n    color: #101010;\n    font-size: 15pt;\n}\n\n.incorrect {\n    color: var(--incorrect-red);\n}\n\n.correct {\n    color: var(--correct-green);\n}\n\n.correctButton {\n    /*\n    background: var(--correct-green);\n   */\n    animation: correct-anim 0.6s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n.incorrectButton {\n    animation: incorrect-anim 0.8s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n@keyframes incorrect-anim {\n    100% {\n        background-color: var(--incorrect-red);\n    }\n}\n\n@keyframes correct-anim {\n    100% {\n        background-color: var(--correct-green);\n    }\n}\u003c/style\u003e","content_type":"text/html"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.Javascript object\u003e","content_type":"text/plain"},"application/javascript":{"content_type":"application/javascript","hash":"b59cee2be5165d5f69a68b38d6767411","path":"/build/b59cee2be5165d5f69a68b38d6767411.json"}}}],"key":"XILkf1brCB"}],"key":"WKT1Roun0D"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This script overwrites the temporary filename in the MovieDisplay with the correct filename. The second line is also very important. Here, the value of the variable ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"l3nomfvqcj"},{"type":"inlineCode","value":"current_player","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"treSyicrw3"},{"type":"text","value":" is updated to the new destination, so that in the next trial the branching structure knows who is at that moment the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"nX29AU4V78"},{"type":"inlineCode","value":"current_player","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"H2w1mj2MMg"},{"type":"text","value":". Finally, because of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ojwKheH2Ps"},{"type":"link","url":"https://osdoc.cogsci.nl/3.3/manual/prepare-run/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"prepare-run strategy","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tLQXeLMmwz"}],"urlSource":"https://osdoc.cogsci.nl/3.3/manual/prepare-run/","key":"iQgDMcAQbR"},{"type":"text","value":" in OpenSesame, the temporary filename was used to prepare the media player at the start of the trial. To make sure the media player is updated and shows the proper file, we manually prepare it again using the items.prepare command.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EqjY5BZQ9M"}],"key":"DRLdstJZRr"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Almost the same code should be added to the PreparePlayer3 InLine:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Momq4Vu3t0"}],"key":"k8mkfXNlub"}],"key":"igCNcYrqmu"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"var.movie_filename = \"3to\" + str(var.target_player) + \".wmv\"\nvar.current_player = var.target_player # info for next trial\nitems.prepare(\"media_player_mpy\")","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"key":"Y3tHvfpSHX"}],"key":"f04RK8VgCw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3: Programming Player 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ulkVfAtAAp"}],"identifier":"step-3-programming-player-2","label":"Step 3: Programming Player 2","html_id":"step-3-programming-player-2","implicit":true,"key":"pfQb8jlsCx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s now add a Procedure named ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jijd1uXFUO"},{"type":"inlineCode","value":"play2_seq","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p53JAZ3J8r"},{"type":"text","value":" to the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AJ1EBBMDlC"},{"type":"inlineCode","value":"player2_loop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x4SfLnNYpC"},{"type":"text","value":". We don’t need any variables added to this loop. Just make sure the loop run only once.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"R2ckGosEi1"}],"key":"DLPmhM30vB"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Do the same for ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wclDvLOPZ7"},{"type":"inlineCode","value":"play2_seq","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"z4QCSGdn0h"},{"type":"text","value":" as you did for ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"aYioOeCuPE"},{"type":"inlineCode","value":"play1_seq","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"x4k2qwPBtJ"},{"type":"text","value":" and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"h5whwvF0tl"},{"type":"inlineCode","value":"play3_seq","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nwpzVaRKzY"},{"type":"text","value":" : add an inline script (name it ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kQkrK4wgRc"},{"type":"inlineCode","value":"prepare_player2","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xU1WMkxW9D"},{"type":"text","value":") and insert the media player ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wd7KFX5HLA"},{"type":"inlineCode","value":"media_player_mpy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"S8H0MXlbbK"},{"type":"text","value":"(again paste a linked copy from the clipboard).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xzBJ8mu9kJ"}],"key":"f9yVYb8iHF"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Now add a keyboard_response object to the beginning of the sequence (name it ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"EAdmX5T1Ij"},{"type":"inlineCode","value":"wait_for_user","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dMJ5Lx7T0P"},{"type":"text","value":") and set it to log the responses 1 and 3. The keyboard_response object has an infinite timeout and will be terminated as soon as the user has decided which player they want to toss the ball to (i.e. Player 1 or 3).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"cvsNhvs6uk"}],"key":"qXiCPQevn2"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"To show the correct movie after the response to the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"zatwgsdekB"},{"type":"inlineCode","value":"wait_for_user","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"U7tspQGfML"},{"type":"text","value":"object, we need the following code in the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Qpz7wYRkcH"},{"type":"inlineCode","value":"prepare_player2","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZkFDSpJYnV"},{"type":"text","value":" script:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"cL1HlbBQ61"}],"key":"s8F206uiaI"}],"key":"QjZhngOJZn"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"var.movie_filename = \"2to\" + str(var.response) + \".wmv\"\nvar.current_player = var.response # info for next trial\nitems.prepare(\"media_player_mpy\")","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"key":"XPUwU0Cnyy"}],"key":"OlkXZXI2Ns"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Done! Compare the structure of your experiment with the flowchart. You should now be able to play the Cyberball game. Use the “Run in window” feature and open the Variable inspector while your experiment runs. Check whether the variables ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cYzTar209T"},{"type":"inlineCode","value":"movie_filename","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JYeigP9TCg"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EAKzR3AjfV"},{"type":"inlineCode","value":"current_player","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"utClTxX9Yy"},{"type":"text","value":" are properly updated.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iVke9xiaya"}],"key":"tJu1MJLiMI"}],"key":"GVdKm2T5uS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Alternative solution: Custom code to play the movie","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aUX0SdmfvQ"}],"identifier":"alternative-solution-custom-code-to-play-the-movie","label":"Alternative solution: Custom code to play the movie","html_id":"alternative-solution-custom-code-to-play-the-movie","implicit":true,"key":"rhhUSqAx19"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Although OpenSesame does have the standard ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wHnh2pV7uT"},{"type":"inlineCode","value":"media_player_mpy","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HvEME5UsNY"},{"type":"text","value":" object to play a movie, you may notice that it does not work flawless. For example, if you are too quick, the response to player 2 is not recorded because there seems to be a small delay at the end of the movie. In addition, at the end of the movie the screen is cleared using the default OpenSesame background color. This creates an annoying screen glitch between movies.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sJvtJgqPyR"}],"key":"mAoTGjSQKR"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"No worries though. We can create our own python code to play a movie where we have full control. However, do not expect this is simple. :)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"J2oUaLmpWG"}],"key":"RY451G0V6Y"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Save your old experiment and then save it again under a new filename. Now replace the media_player_mpy objects everywhere with a script called ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"bF0Vovs8YV"},{"type":"inlineCode","value":"play_movie","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VMULVrvwI7"},{"type":"text","value":". Also, remove the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LdGitU19v6"},{"type":"inlineCode","value":"items.prepare(\"media_player_mpy\")","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LjGdmLZIEw"},{"type":"text","value":" calls from all inlines.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PB8Lj53Gpk"}],"key":"dkmzdZRNVj"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Let’s first create a simple loop that presents something that moves on the screen. This code should be inserted into the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"OKA20txey2"},{"type":"inlineCode","value":"play_movie","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"yxojKoXGAz"},{"type":"text","value":" inline script.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"PeUGhRwRDx"}],"key":"tW95niwEjP"}],"key":"L2L6VxDkH2"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"my_canvas = Canvas()\n\nfor i in range(-25,25):\n    my_canvas.text(var.movie_filename)\n    my_canvas.text(\"*\",x = i*5,y = 50)\n    my_canvas.show()\n    clock.sleep(40)\n    my_canvas.clear()","position":{"start":{"line":1,"column":1},"end":{"line":10,"column":1}},"key":"Ioip1FdTU3"}],"key":"GvDkgRTOqJ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Time to test the experiment. Do you see something moving on the screen? And do you see when it is your (player 2) turn?","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XiDQUDcY3C"}],"key":"AmDicN8yCp"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Experiment with the settings of the sleep parameter (speed of the asterisk) and the x (horizontal position) and the y (vertical position).","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"YRlvmAKVws"}],"key":"GuZwz1f8Lt"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Can you change the vertical position into a quadratic shape so it looks like a ball is thrown?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tvAQiSZPlo"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"srVSzWK2vN"},{"type":"text","value":"y = i**2 - 200","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Th3eMNmsKM"}],"key":"wSywIznHrr"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Okay, this was boring, right? Time to change the loop and present the movie itself.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fz6LsqAa7t"}],"key":"Ti7fpF7mN3"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"First comment the code you just wrote (select everything and press ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"AWyOunjfdR"},{"type":"inlineCode","value":"Ctrl + /","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"L3Xan1IzWS"},{"type":"text","value":" (see OpenSesame ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"sIrwFtyB7g"},{"type":"link","url":"https://osdoc.cogsci.nl/3.3/manual/interface/#keyboard-shortcuts","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"keyboard shortcuts","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"kJchdfoxzt"}],"urlSource":"https://osdoc.cogsci.nl/3.3/manual/interface/#keyboard-shortcuts","key":"iv5nizdlZT"},{"type":"text","value":")","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"aGp6S3xAXb"}],"key":"z3WeuDeNKi"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Now we first need to load the correct movie file and then present the picture frame by frame in the loop.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"j1GeZpeC9W"}],"key":"FsgzKwvJ9u"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Of course, do not reinvent the wheel! Others have provided pieces of code we can recycle. Google is your friend. The example below is adapted from the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"CntAfq3PE7"},{"type":"link","url":"https://osdoc.cogsci.nl/3.3/manual/stimuli/video/","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"OpenSesame website","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"UmAdKWeKPi"}],"urlSource":"https://osdoc.cogsci.nl/3.3/manual/stimuli/video/","key":"RSHt601Eqo"},{"type":"text","value":".","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Cy3dgyv0io"}],"key":"UW4KtYazUz"}],"key":"rGQmD6Awcg"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"import cv2\nimport numpy\nimport pygame\n# Full path to the video file in file pool\npath = pool[var.movie_filename]\n# Open the video\nvideo = cv2.VideoCapture(path)\n# A loop to play the video file. This can also be a while loop until a key\n# is pressed. etc.\nfor i in range(100):\n    # Get a frame\n    try:\n        retval, frame = video.read()\n        # Rotate it, because for some reason it otherwise appears flipped.\n        frame = numpy.rot90(frame)\n        # Flip it (vertically?!), because for some reason it otherwise appears horizontally (!) flipped.\n        frame = numpy.flipud(frame)\n        # The video uses BGR colors and PyGame needs RGB\n\n        frame = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)\n        # Create a PyGame surface\n        surf = pygame.surfarray.make_surface(frame)\n    except:\n        #end of movie\n        break\n\n    # Show the PyGame surface!\n    exp.surface.blit(surf, (0, 0))\n    pygame.display.flip()","position":{"start":{"line":1,"column":1},"end":{"line":31,"column":1}},"key":"Q4cjhCba6M"}],"key":"eWpLyyPGNn"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Were all steps implemented correctly? Check whether the game works using this custom code. Insert a blank ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zUs96ZGTg8"},{"type":"inlineCode","value":"sketchpad","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ohIbZSQymD"},{"type":"text","value":" with duration 0 after the instructions ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bP9rkDFHRd"},{"type":"inlineCode","value":"sketchpad","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IGYlUnxqL8"},{"type":"text","value":"  to make sure the canvas is not drawn on the previous instruction screen.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z5Z9d4HX1Y"}],"key":"tzmgd7EXXd"}],"key":"ZsVfsOajB6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercises","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l4YKaUssWV"}],"identifier":"exercises","label":"Exercises","html_id":"exercises","implicit":true,"key":"JjUIvrHcdU"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Exercise 1. Loop the countdown timer using code","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H7EzxEmRUa"}],"identifier":"exercise-1-loop-the-countdown-timer-using-code","label":"Exercise 1. Loop the countdown timer using code","html_id":"exercise-1-loop-the-countdown-timer-using-code","implicit":true,"key":"a05yCofFYk"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Open the OpenSesame file with the countdown timer you created in Chapter 7. Now replace the OpenSesame ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"W8VMGi3pJI"},{"type":"inlineCode","value":"loop","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ruSWVzv3py"},{"type":"text","value":" object with a loop in python code that runs 10 times and that updates the display each 500 ms.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"foE5OGA4aa"}],"key":"IoezSHAzzF"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Exercise 2. Create a function of the countdown timer","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"v9ysQjrMf7"}],"identifier":"exercise-2-create-a-function-of-the-countdown-timer","label":"Exercise 2. Create a function of the countdown timer","html_id":"exercise-2-create-a-function-of-the-countdown-timer","implicit":true,"key":"IwE6wegqeH"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"If this works, create a new function called ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"yBHSrXLH93"},{"type":"inlineCode","value":"my_timer","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YfNHQyuVNz"},{"type":"text","value":" that accepts the desired duration of the countdown timer as a parameter. Change the code in such a way that when you for example call my_timer(30) in a new python ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XMY5Rxco2D"},{"type":"inlineCode","value":"inline","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"yH1SHXPOBS"},{"type":"text","value":", the countdown timer is presented for approximately 30 seconds and is updated in 60 steps of 500 ms.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GoqXb7JAkr"}],"key":"km3GFDhINC"},{"type":"heading","depth":3,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Exercise 3. Fixing the issue of incorrect number of trials","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"PLJsVCkd7S"}],"identifier":"exercise-3-fixing-the-issue-of-incorrect-number-of-trials","label":"Exercise 3. Fixing the issue of incorrect number of trials","html_id":"exercise-3-fixing-the-issue-of-incorrect-number-of-trials","implicit":true,"key":"w0zM7xoEw4"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Go back to the file of the Cyberball game you implemented in the tutorial.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"D5gUjT8iW4"}],"key":"kDxQhy2T5A"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Change the number of trials in ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"h7NS2P6U5D"},{"type":"inlineCode","value":"trial_loop","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"jVuiz93RhI"},{"type":"text","value":" to 1. How many throws do you see? Why are there multiple throws in one trial?","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"TWbqIccCT5"}],"key":"aK7cloCrG4"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"To fix this issue, we have to make sure of value of current_player (for the next trial) is assigned after all three player_loop’s have run. To do so, save the new value of the current_player first in another (temporary) variable, and add a new ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"el8vCg0UIq"},{"type":"inlineCode","value":"inline_script","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"bu7RIZAuMk"},{"type":"text","value":" object at the end (!) of ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"eYMbWp7ilG"},{"type":"inlineCode","value":"trial_seq","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"g52nznEISb"},{"type":"text","value":" that assigns the new value to current_player.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"XxftKzPsZg"}],"key":"Pr75f6V68Z"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"For example, in the ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"bk8Ngeb8TJ"},{"type":"inlineCode","value":"prepare_player1","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"e58FLL11H0"},{"type":"text","value":" ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ypJdjQOWij"},{"type":"inlineCode","value":"inline_script","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"v1ONcbkiqW"},{"type":"text","value":" change:","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"KHrwwHCaHh"}],"key":"KaR8ETHYjA"}],"key":"YX3iUnEzGv"},{"type":"block","kind":"notebook-content","data":{"collapsed":false},"children":[{"type":"code","lang":"","value":"var.current_player = var.target_player # info for next trial","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"GsJtL7c78m"}],"key":"L0ZTadsFOo"},{"type":"block","kind":"notebook-content","data":{"collapsed":false},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"into","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AOa8T494V0"}],"key":"aa31LaIKoW"}],"key":"bD16orYiAJ"},{"type":"block","kind":"notebook-content","data":{"collapsed":false},"children":[{"type":"code","lang":"","value":"var.tempcurrent_player = var.target_player # info for next trial","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"v10VENgjQy"}],"key":"S1PlJ3go0d"},{"type":"block","kind":"notebook-content","data":{"collapsed":false},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Also modify the other two ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"biWm73iS3o"},{"type":"inlineCode","value":"inline_scripts","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"icPPNQose4"},{"type":"text","value":". Finally, the new ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jN32RvDSzQ"},{"type":"inlineCode","value":"inline_script","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dK96853XjG"},{"type":"text","value":" at the end of the trial (i.e., after player3_loop) simply says:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jfwOVUGwfZ"}],"key":"WH9tJhcCTA"}],"key":"DXCoytAGmn"},{"type":"block","kind":"notebook-content","data":{"collapsed":false},"children":[{"type":"code","lang":"","value":"var.current_player = var.tempcurrent_player","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"D2d9pQ0vzi"}],"key":"EJQIEjcpEH"},{"type":"block","kind":"notebook-content","data":{"collapsed":false},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Check whether each trial now only contains a single throw.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vqfc87CIl6"}],"key":"Duug4ORPN2"}],"key":"JkwUo4sljG"},{"type":"block","kind":"notebook-content","data":{"collapsed":false},"children":[{"type":"heading","depth":3,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Exercise 4. Present the video at the center of the screen","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pbGwKppQq6"}],"identifier":"exercise-4-present-the-video-at-the-center-of-the-screen","label":"Exercise 4. Present the video at the center of the screen","html_id":"exercise-4-present-the-video-at-the-center-of-the-screen","implicit":true,"key":"DvL59uKFw0"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Let’s move the video to the center of the screen. The upper-left corner is determined by the (x,y) coordinates we provide to ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JqZDd0HvbA"},{"type":"inlineCode","value":"exp.surface.blit","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yHPqgIVIxU"}],"key":"mNed4eGmUk"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"In order to determine the correct coordinates we need to know the width and height of the screen resolution currently used in the experiment. For this we can use Open Sesame’s ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"l7AvXhxJ6m"},{"type":"link","url":"https://osdoc.cogsci.nl/3.3/manual/variables/#built-in-variables","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"built-in variables","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"uP5nPb6DtR"}],"urlSource":"https://osdoc.cogsci.nl/3.3/manual/variables/#built-in-variables","key":"CGZPCGWVYm"},{"type":"text","value":" ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"izs9SBd1iR"},{"type":"inlineCode","value":"var.width","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BJu1d2nOTn"},{"type":"text","value":" and ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"SfKKwG3suw"},{"type":"inlineCode","value":"var.height","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NLTBbFmp3M"},{"type":"text","value":".","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tzXf9m6M4e"}],"key":"da7XJTPtxM"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"To determine the width and height of the video file presented (units are pixels) we need some functionality provided by the cv2 package. Nobody knows this by heart, so let’s google it. When I searched “cv2 height of video”, I found some useful information ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"nrNwQWYf8R"},{"type":"link","url":"https://stackoverflow.com/questions/39953263/get-video-dimension-in-python-opencv","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"quzp9EMqHn"}],"urlSource":"https://stackoverflow.com/questions/39953263/get-video-dimension-in-python-opencv","key":"Ll8dAo3N9Z"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"aMti3Mi4Gp"}],"key":"jicVen8F8n"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"So let’s save the width and heigth of the video in a separate variable after you called the cv2.VideoCapture command and insert it in the correct location of your script.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"SDJPOqHRjJ"}],"key":"Ynar2H7paY"}],"key":"AixBNfJVXk"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"videowidth = video.get(cv2.CAP_PROP_FRAME_WIDTH )\nvideoheight = video.get(cv2.CAP_PROP_FRAME_HEIGHT)","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"key":"hTaQXBGrcL"}],"key":"YenXakW60U"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now, combine the dimensions of the screen (stored in the experimental variables ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"n0STu3hyqE"},{"type":"inlineCode","value":"width","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gmEMDXTPGQ"},{"type":"text","value":" and ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"IMqPlLMFpA"},{"type":"inlineCode","value":"height","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EY5tRcDlrj"},{"type":"text","value":") and the video to determine the upper-left corner position and feed this as coordinates into exp.surfdrive.blit.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"I0Kwrg9tdA"}],"key":"eRnNp8kFel"}],"key":"pcyD9LlXOf"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"exp.surface.blit(surf, ((var.width - videowidth) / 2, (var.height - videoheight) / 2))","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"YbSEREqLiG"}],"key":"tYHZoKSNZ1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 5. Change the speed of the video","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u0nycqATLN"}],"identifier":"exercise-5-change-the-speed-of-the-video","label":"Exercise 5. Change the speed of the video","html_id":"exercise-5-change-the-speed-of-the-video","implicit":true,"key":"JssCF9P58z"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As you may have noticed, the speed of the video is currently determined by the speed of your cpu. If you have a very quick cpu the video is presented quicker than if you have a very slow cpu.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pi3dEN1p80"}],"key":"E1o02SKiwL"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Let’s change that. Actually, the wmv contains information about the supposed number of frames that have to be presented in a second (fps = frames per second). Let’s save the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uj6QEVX6DS"},{"type":"inlineCode","value":"fps","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wrMW7FiRAi"},{"type":"text","value":" information:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"g1c8RTdAtE"}],"key":"nVjGudBkvb"}],"key":"hw8AsRrCHr"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"fps =  video.get(cv2.CAP_PROP_FPS)","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"blOWFg0ZOP"}],"key":"NFa9kFRZkq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Use the print method to determine the fps for our video’s. Look in the console for the value.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"P5wYmumgVV"}],"key":"oANuH8Mfkn"}],"key":"DGFRQ7QRl8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"display_quiz(\"questions/question_4.json\")","key":"TyNwrCG57w"},{"type":"output","id":"DFtdaifowApiKK3V9_vrJ","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"},"text/html":{"content":"\u003cdiv id=\"vvlzIrUyDcGI\" data-shufflequestions=\"False\"\n               data-shuffleanswers=\"True\"\n               data-preserveresponses=\"false\"\n               data-numquestions=\"1000000\"\u003e \u003cstyle\u003e:root {\n    --medium-slate-blue: #6f78ffff;\n    --orange-pantone: #f75c03ff;\n    --russian-violet: #392061ff;\n    --maximum-yellow-red: #ffc857ff;\n    --viridian-green: #119da4ff;\n    --incorrect-red: #c80202;\n    --correct-green: #009113;\n}\n\n.Quiz {\n    max-width: 600px;\n    margin-top: 15px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 15px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n    line-height: 1.1;\n    font-size: 16pt;\n}\n\n.QuizCode {\n    font-size: 14pt;\n    margin-top: 10px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n.QuizCode\u003epre {\n    padding: 4px;\n}\n\n.Answer {\n    margin: 10px 0;\n    display: grid;\n    grid-template-columns: auto auto;\n    grid-gap: 10px;\n}\n\n.Feedback {\n    font-size: 16pt;\n    text-align: center;\n    min-height: 2em;\n}\n\n.Input {\n    align: left;\n    font-size: 20pt;\n}\n\n.Input-text {\n    display: block;\n    margin: 10px;\n    color: inherit;\n    width: 140px;\n    background-color: #c0c0c0;\n    color: #fff;\n    padding: 5px;\n    padding-left: 10px;\n    font-family: inherit;\n    font-size: 20px;\n    font-weight: inherit;\n    line-height: 20pt;\n    border: none;\n    border-radius: 0.2rem;\n    transition: box-shadow 0.1s);\n}\n\n.Input-text:focus {\n    outline: none;\n    background-color: #c0c0c0;\n    box-shadow: 0.6rem 0.8rem 1.4rem -0.5rem #999999;\n}\n\n.MCButton {\n    background: #fafafa;\n    border: 1px solid #eee;\n    border-radius: 10px;\n    padding: 10px;\n    font-size: 16px;\n    cursor: pointer;\n    text-align: center;\n}\n\n.MCButton p {\n    color: inherit;\n}\n\n.MultipleChoiceQn {\n    padding: 10px;\n    background: var(--medium-slate-blue);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.ManyChoiceQn {\n    padding: 10px;\n    background: var(--orange-pantone);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn {\n    padding: 10px;\n    background: var(--russian-violet);\n    color: #fafafa;\n    border-radius: 10px;\n}\n\n.NumericQn p {\n    color: inherit;\n}\n\n.InpLabel {\n    line-height: 34px;\n    float: left;\n    margin-right: 10px;\n    color: #101010;\n    font-size: 15pt;\n}\n\n.incorrect {\n    color: var(--incorrect-red);\n}\n\n.correct {\n    color: var(--correct-green);\n}\n\n.correctButton {\n    /*\n    background: var(--correct-green);\n   */\n    animation: correct-anim 0.6s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n.incorrectButton {\n    animation: incorrect-anim 0.8s ease;\n    animation-fill-mode: forwards;\n    color: #fafafa;\n    box-shadow: inset 0px 0px 5px #555555;\n    outline: none;\n}\n\n@keyframes incorrect-anim {\n    100% {\n        background-color: var(--incorrect-red);\n    }\n}\n\n@keyframes correct-anim {\n    100% {\n        background-color: var(--correct-green);\n    }\n}\u003c/style\u003e","content_type":"text/html"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cIPython.core.display.Javascript object\u003e","content_type":"text/plain"},"application/javascript":{"content":"var questionsvvlzIrUyDcGI=[\n  {\n    \"question\": \"How many frames per seconds are stored in the videofile?\",\n    \"type\": \"numeric\",\n    \"answers\": [\n      {\n        \"type\": \"value\",\n        \"value\": 30,\n        \"correct\": true,\n        \"feedback\": \"Correct!\"\n      },\n      {\n        \"type\": \"default\",\n        \"correct\": false,\n        \"feedback\": \"Incorrect! Try again.\"\n      }\n    ]\n  }\n];\n    // Make a random ID\nfunction makeid(length) {\n    var result = [];\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    var charactersLength = characters.length;\n    for (var i = 0; i \u003c length; i++) {\n        result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\n    }\n    return result.join('');\n}\n\n// Choose a random subset of an array. Can also be used to shuffle the array\nfunction getRandomSubarray(arr, size) {\n    var shuffled = arr.slice(0), i = arr.length, temp, index;\n    while (i--) {\n        index = Math.floor((i + 1) * Math.random());\n        temp = shuffled[index];\n        shuffled[index] = shuffled[i];\n        shuffled[i] = temp;\n    }\n    return shuffled.slice(0, size);\n}\n\nfunction printResponses(responsesContainer) {\n    var responses=JSON.parse(responsesContainer.dataset.responses);\n    var stringResponses='\u003cB\u003eIMPORTANT!\u003c/B\u003eTo preserve this answer sequence for submission, when you have finalized your answers: \u003col\u003e \u003cli\u003e Copy the text in this cell below \"Answer String\"\u003c/li\u003e \u003cli\u003e Double click on the cell directly below the Answer String, labeled \"Replace Me\"\u003c/li\u003e \u003cli\u003e Select the whole \"Replace Me\" text\u003c/li\u003e \u003cli\u003e Paste in your answer string and press shift-Enter.\u003c/li\u003e\u003cli\u003eSave the notebook using the save icon or File-\u003eSave Notebook menu item\u003c/li\u003e\u003c/ul\u003e\u003cbr\u003e\u003cbr\u003e\u003cbr\u003e\u003cb\u003eAnswer String:\u003c/b\u003e\u003cbr\u003e ';\n    console.log(responses);\n    responses.forEach((response, index) =\u003e {\n        if (response) {\n            console.log(index + ': ' + response);\n            stringResponses+= index + ': ' + response +\"\u003cBR\u003e\";\n        }\n    });\n    responsesContainer.innerHTML=stringResponses;\n}\nfunction check_mc() {\n    var id = this.id.split('-')[0];\n    //var response = this.id.split('-')[1];\n    //console.log(response);\n    //console.log(\"In check_mc(), id=\"+id);\n    //console.log(event.srcElement.id)           \n    //console.log(event.srcElement.dataset.correct)   \n    //console.log(event.srcElement.dataset.feedback)\n\n    var label = event.srcElement;\n    //console.log(label, label.nodeName);\n    var depth = 0;\n    while ((label.nodeName != \"LABEL\") \u0026\u0026 (depth \u003c 20)) {\n        label = label.parentElement;\n        console.log(depth, label);\n        depth++;\n    }\n\n\n\n    var answers = label.parentElement.children;\n\n    //console.log(answers);\n\n\n    // Split behavior based on multiple choice vs many choice:\n    var fb = document.getElementById(\"fb\" + id);\n\n\n\n\n    if (fb.dataset.numcorrect == 1) {\n        // What follows is for the saved responses stuff\n        var outerContainer = fb.parentElement.parentElement;\n        var responsesContainer = document.getElementById(\"responses\" + outerContainer.id);\n        if (responsesContainer) {\n            //console.log(responsesContainer);\n            var response = label.firstChild.innerText;\n            if (label.querySelector(\".QuizCode\")){\n                response+= label.querySelector(\".QuizCode\").firstChild.innerText;\n            }\n            console.log(response);\n            //console.log(document.getElementById(\"quizWrap\"+id));\n            var qnum = document.getElementById(\"quizWrap\"+id).dataset.qnum;\n            console.log(\"Question \" + qnum);\n            //console.log(id, \", got numcorrect=\",fb.dataset.numcorrect);\n            var responses=JSON.parse(responsesContainer.dataset.responses);\n            console.log(responses);\n            responses[qnum]= response;\n            responsesContainer.setAttribute('data-responses', JSON.stringify(responses));\n            printResponses(responsesContainer);\n        }\n        // End code to preserve responses\n        \n        for (var i = 0; i \u003c answers.length; i++) {\n            var child = answers[i];\n            //console.log(child);\n            child.className = \"MCButton\";\n        }\n\n\n\n        if (label.dataset.correct == \"true\") {\n            // console.log(\"Correct action\");\n            if (\"feedback\" in label.dataset) {\n                fb.textContent = jaxify(label.dataset.feedback);\n            } else {\n                fb.textContent = \"Correct!\";\n            }\n            label.classList.add(\"correctButton\");\n\n            fb.className = \"Feedback\";\n            fb.classList.add(\"correct\");\n\n        } else {\n            if (\"feedback\" in label.dataset) {\n                fb.textContent = jaxify(label.dataset.feedback);\n            } else {\n                fb.textContent = \"Incorrect -- try again.\";\n            }\n            //console.log(\"Error action\");\n            label.classList.add(\"incorrectButton\");\n            fb.className = \"Feedback\";\n            fb.classList.add(\"incorrect\");\n        }\n    }\n    else {\n        var reset = false;\n        var feedback;\n         if (label.dataset.correct == \"true\") {\n            if (\"feedback\" in label.dataset) {\n                feedback = jaxify(label.dataset.feedback);\n            } else {\n                feedback = \"Correct!\";\n            }\n            if (label.dataset.answered \u003c= 0) {\n                if (fb.dataset.answeredcorrect \u003c 0) {\n                    fb.dataset.answeredcorrect = 1;\n                    reset = true;\n                } else {\n                    fb.dataset.answeredcorrect++;\n                }\n                if (reset) {\n                    for (var i = 0; i \u003c answers.length; i++) {\n                        var child = answers[i];\n                        child.className = \"MCButton\";\n                        child.dataset.answered = 0;\n                    }\n                }\n                label.classList.add(\"correctButton\");\n                label.dataset.answered = 1;\n                fb.className = \"Feedback\";\n                fb.classList.add(\"correct\");\n\n            }\n        } else {\n            if (\"feedback\" in label.dataset) {\n                feedback = jaxify(label.dataset.feedback);\n            } else {\n                feedback = \"Incorrect -- try again.\";\n            }\n            if (fb.dataset.answeredcorrect \u003e 0) {\n                fb.dataset.answeredcorrect = -1;\n                reset = true;\n            } else {\n                fb.dataset.answeredcorrect--;\n            }\n\n            if (reset) {\n                for (var i = 0; i \u003c answers.length; i++) {\n                    var child = answers[i];\n                    child.className = \"MCButton\";\n                    child.dataset.answered = 0;\n                }\n            }\n            label.classList.add(\"incorrectButton\");\n            fb.className = \"Feedback\";\n            fb.classList.add(\"incorrect\");\n        }\n        // What follows is for the saved responses stuff\n        var outerContainer = fb.parentElement.parentElement;\n        var responsesContainer = document.getElementById(\"responses\" + outerContainer.id);\n        if (responsesContainer) {\n            //console.log(responsesContainer);\n            var response = label.firstChild.innerText;\n            if (label.querySelector(\".QuizCode\")){\n                response+= label.querySelector(\".QuizCode\").firstChild.innerText;\n            }\n            console.log(response);\n            //console.log(document.getElementById(\"quizWrap\"+id));\n            var qnum = document.getElementById(\"quizWrap\"+id).dataset.qnum;\n            console.log(\"Question \" + qnum);\n            //console.log(id, \", got numcorrect=\",fb.dataset.numcorrect);\n            var responses=JSON.parse(responsesContainer.dataset.responses);\n            if (label.dataset.correct == \"true\") {\n                if (typeof(responses[qnum]) == \"object\"){\n                    if (!responses[qnum].includes(response))\n                        responses[qnum].push(response);\n                } else{\n                    responses[qnum]= [ response ];\n                }\n            } else {\n                responses[qnum]= response;\n            }\n            console.log(responses);\n            responsesContainer.setAttribute('data-responses', JSON.stringify(responses));\n            printResponses(responsesContainer);\n        }\n        // End save responses stuff\n\n\n\n        var numcorrect = fb.dataset.numcorrect;\n        var answeredcorrect = fb.dataset.answeredcorrect;\n        if (answeredcorrect \u003e= 0) {\n            fb.textContent = feedback + \" [\" + answeredcorrect + \"/\" + numcorrect + \"]\";\n        } else {\n            fb.textContent = feedback + \" [\" + 0 + \"/\" + numcorrect + \"]\";\n        }\n\n\n    }\n\n    if (typeof MathJax != 'undefined') {\n        var version = MathJax.version;\n        console.log('MathJax version', version);\n        if (version[0] == \"2\") {\n            MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\n        } else if (version[0] == \"3\") {\n            MathJax.typeset([fb]);\n        }\n    } else {\n        console.log('MathJax not detected');\n    }\n\n}\n\nfunction make_mc(qa, shuffle_answers, outerqDiv, qDiv, aDiv, id) {\n    var shuffled;\n    if (shuffle_answers == \"True\") {\n        //console.log(shuffle_answers+\" read as true\");\n        shuffled = getRandomSubarray(qa.answers, qa.answers.length);\n    } else {\n        //console.log(shuffle_answers+\" read as false\");\n        shuffled = qa.answers;\n    }\n\n\n    var num_correct = 0;\n\n\n\n    shuffled.forEach((item, index, ans_array) =\u003e {\n        //console.log(answer);\n\n        // Make input element\n        var inp = document.createElement(\"input\");\n        inp.type = \"radio\";\n        inp.id = \"quizo\" + id + index;\n        inp.style = \"display:none;\";\n        aDiv.append(inp);\n\n        //Make label for input element\n        var lab = document.createElement(\"label\");\n        lab.className = \"MCButton\";\n        lab.id = id + '-' + index;\n        lab.onclick = check_mc;\n        var aSpan = document.createElement('span');\n        aSpan.classsName = \"\";\n        //qDiv.id=\"quizQn\"+id+index;\n        if (\"answer\" in item) {\n            aSpan.innerHTML = jaxify(item.answer);\n            //aSpan.innerHTML=item.answer;\n        }\n        lab.append(aSpan);\n\n        // Create div for code inside question\n        var codeSpan;\n        if (\"code\" in item) {\n            codeSpan = document.createElement('span');\n            codeSpan.id = \"code\" + id + index;\n            codeSpan.className = \"QuizCode\";\n            var codePre = document.createElement('pre');\n            codeSpan.append(codePre);\n            var codeCode = document.createElement('code');\n            codePre.append(codeCode);\n            codeCode.innerHTML = item.code;\n            lab.append(codeSpan);\n            //console.log(codeSpan);\n        }\n\n        //lab.textContent=item.answer;\n\n        // Set the data attributes for the answer\n        lab.setAttribute('data-correct', item.correct);\n        if (item.correct) {\n            num_correct++;\n        }\n        if (\"feedback\" in item) {\n            lab.setAttribute('data-feedback', item.feedback);\n        }\n        lab.setAttribute('data-answered', 0);\n\n        aDiv.append(lab);\n\n    });\n\n    if (num_correct \u003e 1) {\n        outerqDiv.className = \"ManyChoiceQn\";\n    } else {\n        outerqDiv.className = \"MultipleChoiceQn\";\n    }\n\n    return num_correct;\n\n}\nfunction check_numeric(ths, event) {\n\n    if (event.keyCode === 13) {\n        ths.blur();\n\n        var id = ths.id.split('-')[0];\n\n        var submission = ths.value;\n        if (submission.indexOf('/') != -1) {\n            var sub_parts = submission.split('/');\n            //console.log(sub_parts);\n            submission = sub_parts[0] / sub_parts[1];\n        }\n        //console.log(\"Reader entered\", submission);\n\n        if (\"precision\" in ths.dataset) {\n            var precision = ths.dataset.precision;\n            // console.log(\"1:\", submission)\n            submission = Math.round((1 * submission + Number.EPSILON) * 10 ** precision) / 10 ** precision;\n            // console.log(\"Rounded to \", submission, \" precision=\", precision  );\n        }\n\n\n        //console.log(\"In check_numeric(), id=\"+id);\n        //console.log(event.srcElement.id)           \n        //console.log(event.srcElement.dataset.feedback)\n\n        var fb = document.getElementById(\"fb\" + id);\n        fb.style.display = \"none\";\n        fb.textContent = \"Incorrect -- try again.\";\n\n        var answers = JSON.parse(ths.dataset.answers);\n        //console.log(answers);\n\n        var defaultFB = \"\";\n        var correct;\n        var done = false;\n        answers.every(answer =\u003e {\n            //console.log(answer.type);\n\n            correct = false;\n            // if (answer.type==\"value\"){\n            if ('value' in answer) {\n                if (submission == answer.value) {\n                    fb.textContent = jaxify(answer.feedback);\n                    correct = answer.correct;\n                    //console.log(answer.correct);\n                    done = true;\n                }\n                // } else if (answer.type==\"range\") {\n            } else if ('range' in answer) {\n                //console.log(answer.range);\n                if ((submission \u003e= answer.range[0]) \u0026\u0026 (submission \u003c answer.range[1])) {\n                    fb.textContent = jaxify(answer.feedback);\n                    correct = answer.correct;\n                    //console.log(answer.correct);\n                    done = true;\n                }\n            } else if (answer.type == \"default\") {\n                defaultFB = answer.feedback;\n            }\n            if (done) {\n                return false; // Break out of loop if this has been marked correct\n            } else {\n                return true; // Keep looking for case that includes this as a correct answer\n            }\n        });\n\n        if ((!done) \u0026\u0026 (defaultFB != \"\")) {\n            fb.innerHTML = jaxify(defaultFB);\n            //console.log(\"Default feedback\", defaultFB);\n        }\n\n        fb.style.display = \"block\";\n        if (correct) {\n            ths.className = \"Input-text\";\n            ths.classList.add(\"correctButton\");\n            fb.className = \"Feedback\";\n            fb.classList.add(\"correct\");\n        } else {\n            ths.className = \"Input-text\";\n            ths.classList.add(\"incorrectButton\");\n            fb.className = \"Feedback\";\n            fb.classList.add(\"incorrect\");\n        }\n\n        // What follows is for the saved responses stuff\n        var outerContainer = fb.parentElement.parentElement;\n        var responsesContainer = document.getElementById(\"responses\" + outerContainer.id);\n        if (responsesContainer) {\n            console.log(submission);\n            var qnum = document.getElementById(\"quizWrap\"+id).dataset.qnum;\n            //console.log(\"Question \" + qnum);\n            //console.log(id, \", got numcorrect=\",fb.dataset.numcorrect);\n            var responses=JSON.parse(responsesContainer.dataset.responses);\n            console.log(responses);\n            if (submission == ths.value){\n                responses[qnum]= submission;\n            } else {\n                responses[qnum]= ths.value + \"(\" + submission +\")\";\n            }\n            responsesContainer.setAttribute('data-responses', JSON.stringify(responses));\n            printResponses(responsesContainer);\n        }\n        // End code to preserve responses\n\n        if (typeof MathJax != 'undefined') {\n            var version = MathJax.version;\n            console.log('MathJax version', version);\n            if (version[0] == \"2\") {\n                MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\n            } else if (version[0] == \"3\") {\n                MathJax.typeset([fb]);\n            }\n        } else {\n            console.log('MathJax not detected');\n        }\n        return false;\n    }\n\n}\n\nfunction isValid(el, charC) {\n    //console.log(\"Input char: \", charC);\n    if (charC == 46) {\n        if (el.value.indexOf('.') === -1) {\n            return true;\n        } else if (el.value.indexOf('/') != -1) {\n            var parts = el.value.split('/');\n            if (parts[1].indexOf('.') === -1) {\n                return true;\n            }\n        }\n        else {\n            return false;\n        }\n    } else if (charC == 47) {\n        if (el.value.indexOf('/') === -1) {\n            if ((el.value != \"\") \u0026\u0026 (el.value != \".\")) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            return false;\n        }\n    } else if (charC == 45) {\n        var edex = el.value.indexOf('e');\n        if (edex == -1) {\n            edex = el.value.indexOf('E');\n        }\n\n        if (el.value == \"\") {\n            return true;\n        } else if (edex == (el.value.length - 1)) { // If just after e or E\n            return true;\n        } else {\n            return false;\n        }\n    } else if (charC == 101) { // \"e\"\n        if ((el.value.indexOf('e') === -1) \u0026\u0026 (el.value.indexOf('E') === -1) \u0026\u0026 (el.value.indexOf('/') == -1)) {\n            // Prev symbol must be digit or decimal point:\n            if (el.value.slice(-1).search(/\\d/) \u003e= 0) {\n                return true;\n            } else if (el.value.slice(-1).search(/\\./) \u003e= 0) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            return false;\n        }\n    } else {\n        if (charC \u003e 31 \u0026\u0026 (charC \u003c 48 || charC \u003e 57))\n            return false;\n    }\n    return true;\n}\n\nfunction numeric_keypress(evnt) {\n    var charC = (evnt.which) ? evnt.which : evnt.keyCode;\n\n    if (charC == 13) {\n        check_numeric(this, evnt);\n    } else {\n        return isValid(this, charC);\n    }\n}\n\n\n\n\n\nfunction make_numeric(qa, outerqDiv, qDiv, aDiv, id) {\n\n\n\n    //console.log(answer);\n\n\n    outerqDiv.className = \"NumericQn\";\n    aDiv.style.display = 'block';\n\n    var lab = document.createElement(\"label\");\n    lab.className = \"InpLabel\";\n    lab.textContent = \"Type numeric answer here:\";\n    aDiv.append(lab);\n\n    var inp = document.createElement(\"input\");\n    inp.type = \"text\";\n    //inp.id=\"input-\"+id;\n    inp.id = id + \"-0\";\n    inp.className = \"Input-text\";\n    inp.setAttribute('data-answers', JSON.stringify(qa.answers));\n    if (\"precision\" in qa) {\n        inp.setAttribute('data-precision', qa.precision);\n    }\n    aDiv.append(inp);\n    //console.log(inp);\n\n    //inp.addEventListener(\"keypress\", check_numeric);\n    //inp.addEventListener(\"keypress\", numeric_keypress);\n    /*\n    inp.addEventListener(\"keypress\", function(event) {\n        return numeric_keypress(this, event);\n    }\n                        );\n                        */\n    //inp.onkeypress=\"return numeric_keypress(this, event)\";\n    inp.onkeypress = numeric_keypress;\n    inp.onpaste = event =\u003e false;\n\n    inp.addEventListener(\"focus\", function (event) {\n        this.value = \"\";\n        return false;\n    }\n    );\n\n\n}\nfunction jaxify(string) {\n    var mystring = string;\n\n    var count = 0;\n    var loc = mystring.search(/([^\\\\]|^)(\\$)/);\n\n    var count2 = 0;\n    var loc2 = mystring.search(/([^\\\\]|^)(\\$\\$)/);\n\n    //console.log(loc);\n\n    while ((loc \u003e= 0) || (loc2 \u003e= 0)) {\n\n        /* Have to replace all the double $$ first with current implementation */\n        if (loc2 \u003e= 0) {\n            if (count2 % 2 == 0) {\n                mystring = mystring.replace(/([^\\\\]|^)(\\$\\$)/, \"$1\\\\[\");\n            } else {\n                mystring = mystring.replace(/([^\\\\]|^)(\\$\\$)/, \"$1\\\\]\");\n            }\n            count2++;\n        } else {\n            if (count % 2 == 0) {\n                mystring = mystring.replace(/([^\\\\]|^)(\\$)/, \"$1\\\\(\");\n            } else {\n                mystring = mystring.replace(/([^\\\\]|^)(\\$)/, \"$1\\\\)\");\n            }\n            count++;\n        }\n        loc = mystring.search(/([^\\\\]|^)(\\$)/);\n        loc2 = mystring.search(/([^\\\\]|^)(\\$\\$)/);\n        //console.log(mystring,\", loc:\",loc,\", loc2:\",loc2);\n    }\n\n    //console.log(mystring);\n    return mystring;\n}\n\n\nfunction show_questions(json, mydiv) {\n    console.log('show_questions');\n    //var mydiv=document.getElementById(myid);\n    var shuffle_questions = mydiv.dataset.shufflequestions;\n    var num_questions = mydiv.dataset.numquestions;\n    var shuffle_answers = mydiv.dataset.shuffleanswers;\n\n    if (num_questions \u003e json.length) {\n        num_questions = json.length;\n    }\n\n    var questions;\n    if ((num_questions \u003c json.length) || (shuffle_questions == \"True\")) {\n        //console.log(num_questions+\",\"+json.length);\n        questions = getRandomSubarray(json, num_questions);\n    } else {\n        questions = json;\n    }\n\n    //console.log(\"SQ: \"+shuffle_questions+\", NQ: \" + num_questions + \", SA: \", shuffle_answers);\n\n    // Iterate over questions\n    questions.forEach((qa, index, array) =\u003e {\n        //console.log(qa.question); \n\n        var id = makeid(8);\n        //console.log(id);\n\n\n        // Create Div to contain question and answers\n        var iDiv = document.createElement('div');\n        //iDiv.id = 'quizWrap' + id + index;\n        iDiv.id = 'quizWrap' + id;\n        iDiv.className = 'Quiz';\n        iDiv.setAttribute('data-qnum', index);\n        mydiv.appendChild(iDiv);\n        // iDiv.innerHTML=qa.question;\n\n        var outerqDiv = document.createElement('div');\n        outerqDiv.id = \"OuterquizQn\" + id + index;\n\n        iDiv.append(outerqDiv);\n\n        // Create div to contain question part\n        var qDiv = document.createElement('div');\n        qDiv.id = \"quizQn\" + id + index;\n        //qDiv.textContent=qa.question;\n        qDiv.innerHTML = jaxify(qa.question);\n\n        outerqDiv.append(qDiv);\n\n        // Create div for code inside question\n        var codeDiv;\n        if (\"code\" in qa) {\n            codeDiv = document.createElement('div');\n            codeDiv.id = \"code\" + id + index;\n            codeDiv.className = \"QuizCode\";\n            var codePre = document.createElement('pre');\n            codeDiv.append(codePre);\n            var codeCode = document.createElement('code');\n            codePre.append(codeCode);\n            codeCode.innerHTML = qa.code;\n            outerqDiv.append(codeDiv);\n            //console.log(codeDiv);\n        }\n\n\n        // Create div to contain answer part\n        var aDiv = document.createElement('div');\n        aDiv.id = \"quizAns\" + id + index;\n        aDiv.className = 'Answer';\n        iDiv.append(aDiv);\n\n        //console.log(qa.type);\n\n        var num_correct;\n        if (qa.type == \"multiple_choice\") {\n            num_correct = make_mc(qa, shuffle_answers, outerqDiv, qDiv, aDiv, id);\n        } else if (qa.type == \"many_choice\") {\n            num_correct = make_mc(qa, shuffle_answers, outerqDiv, qDiv, aDiv, id);\n        } else if (qa.type == \"numeric\") {\n            //console.log(\"numeric\");\n            make_numeric(qa, outerqDiv, qDiv, aDiv, id);\n        }\n\n\n        //Make div for feedback\n        var fb = document.createElement(\"div\");\n        fb.id = \"fb\" + id;\n        //fb.style=\"font-size: 20px;text-align:center;\";\n        fb.className = \"Feedback\";\n        fb.setAttribute(\"data-answeredcorrect\", 0);\n        fb.setAttribute(\"data-numcorrect\", num_correct);\n        iDiv.append(fb);\n\n\n    });\n    var preserveResponses = mydiv.dataset.preserveresponses;\n    console.log(preserveResponses);\n    console.log(preserveResponses == \"true\");\n    if (preserveResponses == \"true\") {\n        console.log(preserveResponses);\n        // Create Div to contain record of answers\n        var iDiv = document.createElement('div');\n        iDiv.id = 'responses' + mydiv.id;\n        iDiv.className = 'JCResponses';\n        // Create a place to store responses as an empty array\n        iDiv.setAttribute('data-responses', '[]');\n\n        // Dummy Text\n        iDiv.innerHTML=\"\u003cb\u003eSelect your answers and then follow the directions that will appear here.\u003c/b\u003e\"\n        //iDiv.className = 'Quiz';\n        mydiv.appendChild(iDiv);\n    }\n//console.log(\"At end of show_questions\");\n    if (typeof MathJax != 'undefined') {\n        console.log(\"MathJax version\", MathJax.version);\n        var version = MathJax.version;\n        setTimeout(function(){\n            var version = MathJax.version;\n            console.log('After sleep, MathJax version', version);\n            if (version[0] == \"2\") {\n                MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\n            } else if (version[0] == \"3\") {\n                MathJax.typeset([mydiv]);\n            }\n        }, 500);\nif (typeof version == 'undefined') {\n        } else\n        {\n            if (version[0] == \"2\") {\n                MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\n            } else if (version[0] == \"3\") {\n                MathJax.typeset([mydiv]);\n            } else {\n                console.log(\"MathJax not found\");\n            }\n        }\n    }\n    return false;\n}\n\n        {\n        show_questions(questionsvvlzIrUyDcGI,  vvlzIrUyDcGI);\n        }\n        ","content_type":"application/javascript"}}}],"key":"afIh2EBfws"}],"key":"OjhQynm39H"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now, we can simply delay the time between each look with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RUKXkiW5FJ"},{"type":"inlineCode","value":"1000 / fps","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vgOQQQHSCH"},{"type":"text","value":" ms within each loop to present the video at a slower rate. Add the following code in the loop that presents the frames:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Mv3ABcCzO9"}],"key":"PuIBts4YOP"}],"key":"NZuRXf1Tg5"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"clock.sleep(1000/fps)","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"iYx6JKiqyJ"}],"key":"tOBCq3WAIG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Try whether this works!","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ya1UW9ut0C"}],"key":"HLU2prBjaW"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Assume you run this code on a very slow or a very fast computer. You will notice that the movie might be presented at a different pace! This is because runnign the code itself also takes time and even a few milliseconds delay can over time accumulate into a distorted presentation.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"qk7kdc61dg"}],"key":"K3iRTFw4Pk"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Because the code that presents the picture also needs some time, we actually need a smarter piece of code that only waits if there is time remaining after all the other works has been done. So we need a function like the clock.tick() described ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XK0ZOUljVI"},{"type":"link","url":"https://stackoverflow.com/questions/34383559/pygame-clock-tick-vs-framerate-in-game-main-loop","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"aFjfCHVHSK"}],"urlSource":"https://stackoverflow.com/questions/34383559/pygame-clock-tick-vs-framerate-in-game-main-loop","key":"nMkW7w0V0N"},{"type":"text","value":".","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ie62GNk3HG"}],"key":"hYrI3tLb3k"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The function below mimics the functionality of the clock.tick method:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"YNzn6NmKkl"}],"key":"eeaR7JpycC"}],"key":"Wj1ey36GyK"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"def myclocktick(foo):\n  #inspired by clock.tick\n  #see https://stackoverflow.com/questions/34383559/pygame-clock-tick-vs-framerate-in-game-main-loop\n  if var.has(u'prevt'):\n        diff = ((1000/foo) - (clock.time() - var.prevt) ) - 10\n        if diff\u003e0:\n            clock.sleep(diff)\n\n  var.prevt = clock.time()","position":{"start":{"line":1,"column":1},"end":{"line":11,"column":1}},"key":"h5LzjzupMU"}],"key":"lN3eRoIDGd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Here, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZWi4phkJQh"},{"type":"inlineCode","value":"foo","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IV6ZdHv2OP"},{"type":"text","value":" is used as a metasyntactic variable or a placeholder for a value that can change.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x1gnqy3Gb7"}],"key":"wiWG7Aio3x"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Paste this code in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HOtQv0ntLv"},{"type":"inlineCode","value":"Prepare","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dToTfovMKF"},{"type":"text","value":" tab of the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qiUWLW8JEv"},{"type":"inlineCode","value":"play_movie","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qzfWJ1S2V4"},{"type":"text","value":" inline script. Then, in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lhHDui9Tad"},{"type":"inlineCode","value":"Run","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"w4UkkkcmAf"},{"type":"text","value":" tab replace the clock.sleep code with the following line:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"l7hbwEGBMe"}],"key":"s5KD7sH8gq"}],"key":"ZKw9v92lAN"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"myclocktick(fps)","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"NLbJaTF7oQ"}],"key":"ujvCjB4DAy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Try whether you notice any differences. On slower computers the movie may play more smoothly now.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M6RGhLS9sP"}],"key":"bswotwo4VS"}],"key":"OFCdkNcsHl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 6. Manipulate the level of social exclusion","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fbzORH3yTg"}],"identifier":"exercise-6-manipulate-the-level-of-social-exclusion","label":"Exercise 6. Manipulate the level of social exclusion","html_id":"exercise-6-manipulate-the-level-of-social-exclusion","implicit":true,"key":"m5V3K6bfvN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Add a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nSsWaDaM4b"},{"type":"inlineCode","value":"block_loop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XC8FlRU8Rd"},{"type":"text","value":" around the trials_loop that runs two blocks. In one block (the exclusion block), player1 and player 3prefer to play with the other player in 8 out of 10 times. In the other block they have equal preference to play with you (player 2) or the other player.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"m09hvrDGtL"}],"key":"VDxE8CftL1"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Hint: you need to set the weight of the rows in player1_loop and player2_loop (see the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JsUN99eQ0R"},{"type":"link","url":"https://osdoc.cogsci.nl/3.3/manual/structure/loop/#advanced-loop-operations","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"advanced loop","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"l1A3tEhpQV"}],"urlSource":"https://osdoc.cogsci.nl/3.3/manual/structure/loop/#advanced-loop-operations","key":"PUDUSe0Lss"},{"type":"text","value":" documentation). Make sure you shuffle after the weight command, otherwise the repeats are presented after each other (behavior that is different in E-Prime)!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"rOjUd61mas"}],"key":"uDOQNV199H"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The figure below illustrates how you can set the weight of the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"y0baoeheIl"},{"type":"inlineCode","value":"player1_loop","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"GF7gXVF04J"},{"type":"text","value":" (do the same for ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Xtzn3ffdzM"},{"type":"inlineCode","value":"player3_loop","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VSNfMGZONm"},{"type":"text","value":"!) by referring to a variable that is defined one level higher in the hierarchy, i.e. in the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qPDLTYXLvu"},{"type":"inlineCode","value":"block_loop","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"h1U71dN0MX"},{"type":"text","value":". Do not press the Preview button though (it will crash because we do not refer to fixed values for the weighting).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WhFV8jUdyv"}],"key":"RnIhxiP7Bp"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"break","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"OL9QwLbUfh"},{"type":"image","url":"/build/Cyberball_nestedloop-a7cc6c9878c93dcc081b25fae7a1641f.png","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"B1b4MwZh1s","urlSource":"images/Cyberball_nestedloops.png"}],"key":"Twk7RbUy27"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Test whether this works. Do you feel more excluded in the first block then in the second block?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"UraZ2ZxcOp"}],"key":"xkLzUYh9wt"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Add a third block that includes you 8 out of 10 times. Does the inclusion make you feel better?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"RQb7TusURu"}],"key":"KJnFtI7EMj"}],"key":"RtppPYYOLP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 7. Alternatives to manually prepare an OpenSesame object","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f7JgPGYtYg"}],"identifier":"exercise-7-alternatives-to-manually-prepare-an-opensesame-object","label":"Exercise 7. Alternatives to manually prepare an OpenSesame object","html_id":"exercise-7-alternatives-to-manually-prepare-an-opensesame-object","implicit":true,"key":"db3rPUmINb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Experiment with two alternatives to the items.prepare() method:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UNiczr6SG6"}],"key":"DyJJy4tVAd"},{"type":"heading","depth":4,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"1. Dummy loop solution","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Lg2XPNiJFC"}],"identifier":"id-1-dummy-loop-solution","label":"1. Dummy loop solution","html_id":"id-1-dummy-loop-solution","implicit":true,"key":"k20CfZk1op"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Open the old experiment with the media_player you saved after Step 3. Replace the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vwONxTpg0C"},{"type":"inlineCode","value":"media_player_mpy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"eNhwCda7k3"},{"type":"text","value":" with a dummy_loop that runs the media_player_mpy object. Add the column ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iOkmXWvzhM"},{"type":"inlineCode","value":"my_movie_filename","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"q4ZB9hiG0n"},{"type":"text","value":" to the dummy_loop (loop object) and enter the value ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kgorUct4cX"},{"type":"inlineCode","value":"[movie_filename]","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mf0k9i2k3H"},{"type":"text","value":" in the first row. Change the Video file field of media_player_mpy to [my_movie_filename]. Remove any reference to the items.prepare() command in all inlines. Because the prepare-run strategy is repeated for each loop separately, the movie is updated automatically at the end of the trial. Try whether this solution works.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Pq0KfOdKY0"}],"key":"DKhWYDdULn"},{"type":"heading","depth":4,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"2. Run-If solution","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ikjE8V1FLZ"}],"identifier":"id-2-run-if-solution","label":"2. Run-If solution","html_id":"id-2-run-if-solution","implicit":true,"key":"lxS3S9Y9L5"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Because we have a limited number of videos to present (six combinations) it might be more elegant to preload all relevant movies in the beginning of the trial and use the Run If feature to only present the video that shows the correct target_player.  Open the old experiment with the media_player you saved after Step 3. Remove any reference to the items.prepare() command in all inlines. Use two media_players per trial with fixed filenames. Run only the relevant video depending on the value of target_player using the Run if feature in the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LeE8V8UKIO"},{"type":"inlineCode","value":"play1_seq","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"nURwAwGQIk"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"mlgx1wUO8F"},{"type":"inlineCode","value":"play2_seq","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Mz2mmy7VOy"},{"type":"text","value":", and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"xG6wmpiIim"},{"type":"inlineCode","value":"play3_seq","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BoqE7qFWJe"},{"type":"text","value":" sequences.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"L7dR1tDKwP"}],"key":"l3jayt2JoB"}],"key":"eq9HkYlDFi"}],"key":"fxlVe9EPcU"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Chapter 8 - Loops","url":"/intro-8","group":"Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)"},"next":{"title":"Optional Study Material - Python lessons: Loops","url":"/loops-python-lessons","group":"Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)"}}},"domain":"http://localhost:3000"},"project":{"github":"https://github.com/henkvs/experimentation_i_2526","id":"fdc287a4-bef1-4a88-8371-b58a7d84739d","exports":[],"bibliography":[],"title":"Programming Psychological Experiments using  OpenSesame and python (academic year 2023-2024)","index":"intro","pages":[{"slug":"intro-1","title":"Chapter 1 - Introduction to OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gettingready-software","title":"Install OpenSesame on your device","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conflict-tasks-stroop","title":"Stroop task in OpenSesame","description":"","date":"","thumbnail":"/build/image24-9a6bcbd689012d578387e2f9e4a5feed.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-2","title":"Chapter 2 - Experimental Design I","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conflict-tasks-flanker","title":"Flanker task in OpenSesame","description":"","date":"","thumbnail":"/build/image36-be9c1e21e911d1b201491509170bee40.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-3","title":"Chapter 3 - Experimental Design II","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conflict-tasks-gonogo","title":"Go-nogo task in OpenSesame","description":"","date":"","thumbnail":"/build/image63-fca13d6803f2a587456a0a1e3cb8aec4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-4","title":"Chapter 4 - Variables (in OpenSesame)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gaze-cuing","title":"Gaze cuing task in OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-5","title":"Chapter 5 - Variables (in python)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"gettingready-pythonsoftware","title":"Installing Anaconda and how to run python code using this website","description":"","date":"","thumbnail":"/build/spyder_prompt-f71f45a1bc3da71c1c94b1891c64a933.JPG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"variables-python-exercises","title":"Python exercises: Variables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"gettingready-python-lessons","title":"Optional Study Material - Python lessons: Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"variables-python-lessons","title":"Optional Study Material - Python lessons: Variables","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-6","title":"Chapter 6 - Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"wcst","title":"The Wisconsin Card Sorting Task in OpenSesame","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conditionals-python-lessons","title":"Optional Study Material - Python lessons: Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"conditionals-python-exercises","title":"Optional Study Material - Python exercises: Conditionals","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-7","title":"Chapter 7 - Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"ultimatumgame","title":"The Ultimatum Game in OpenSesame","description":"","date":"","thumbnail":"/build/DefaultOverview-11d70dca6f2ebc32c190f2718cb97df3.PNG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"functions-python-lessons","title":"Optional Study Material - Python lessons: Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"functions-python-exercises","title":"Optional Study Material - Python exercises: Functions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-8","title":"Chapter 8 - Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"cyberball","title":"The Cyberball game in OpenSesame","description":"","date":"","thumbnail":"/build/Cyberball1-d4fdc3d81ff46c02db6fc630ee2db1b4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"loops-python-lessons","title":"Optional Study Material - Python lessons: Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"loops-python-exercises","title":"Optional Study Material - Python exercises: Loops","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-9","title":"Chapter 9 - Strings and lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"digitspan","title":"Memory Span Task in OpenSesame","description":"","date":"","thumbnail":"/build/resort_loop-d5ff2286818acaac6f2dd8d123e1b4d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strings-python-lessons","title":"Optional Study Material - Python lessons: Strings","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lists-python-lessons","title":"Optional Study Material - Python lessons: Lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strings-python-exercises","title":"Optional Study Material - Python exercises: Strings","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lists-python-exercises","title":"Optional Study Material - Python exercises: Lists","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-10","title":"Chapter 10 - Q\u0026A","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"questionnaire","title":"Optional: Questionnaires in OpenSesame","description":"","date":"","thumbnail":"/build/overviewques-c96228e074b20c9b84024cb952463c29.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"solutions","title":"Solutions","description":"","date":"","thumbnail":"/build/solution_counterbala-38a8c3a3e9a002e818332125abff5dc5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-ED236704.js";
import * as route0 from "/build/root-ZJOPFBMV.js";
import * as route1 from "/build/routes/$-CQPS5IOR.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>